{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\singh\\\\Dropbox\\\\CODING\\\\EcommerceChatbot\\\\frontend\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { Container, Box, TextField, Button, Typography, Paper, Avatar, IconButton, Menu, MenuItem, CircularProgress, useTheme, useMediaQuery, ThemeProvider, createTheme, CssBaseline } from '@mui/material';\nimport { Send as SendIcon, Mic as MicIcon, MicOff as MicOffIcon, AccountCircle, Logout as LogoutIcon, ShoppingCart, Store, Analytics } from '@mui/icons-material';\nimport { styled } from '@mui/material/styles';\nimport salesBackground from './assets/sales-background.jpg';\nimport WelcomeMessage from './components/WelcomeMessage';\n\n// Custom theme\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst darkTheme = createTheme({\n  palette: {\n    mode: 'dark',\n    primary: {\n      main: '#00ff9d',\n      light: '#66ffc2',\n      dark: '#00cc7d'\n    },\n    secondary: {\n      main: '#ff4081',\n      light: '#ff79b0',\n      dark: '#c60055'\n    },\n    background: {\n      default: '#000000',\n      paper: '#1a1a1a'\n    },\n    text: {\n      primary: '#ffffff',\n      secondary: '#b3b3b3'\n    }\n  },\n  typography: {\n    fontFamily: '\"Poppins\", \"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n    h1: {\n      fontFamily: '\"Montserrat\", sans-serif',\n      fontWeight: 700\n    },\n    h2: {\n      fontFamily: '\"Montserrat\", sans-serif',\n      fontWeight: 600\n    },\n    h3: {\n      fontFamily: '\"Montserrat\", sans-serif',\n      fontWeight: 600\n    },\n    h4: {\n      fontFamily: '\"Montserrat\", sans-serif',\n      fontWeight: 600\n    },\n    h5: {\n      fontFamily: '\"Montserrat\", sans-serif',\n      fontWeight: 600\n    },\n    h6: {\n      fontFamily: '\"Montserrat\", sans-serif',\n      fontWeight: 600\n    },\n    button: {\n      fontFamily: '\"Poppins\", sans-serif',\n      fontWeight: 600,\n      textTransform: 'none'\n    }\n  },\n  shape: {\n    borderRadius: 12\n  },\n  components: {\n    MuiButton: {\n      styleOverrides: {\n        root: {\n          borderRadius: 12,\n          padding: '10px 24px'\n        }\n      }\n    },\n    MuiTextField: {\n      styleOverrides: {\n        root: {\n          '& .MuiOutlinedInput-root': {\n            borderRadius: 12\n          }\n        }\n      }\n    }\n  }\n});\n\n// Styled components\nconst StyledContainer = styled('div')(({\n  theme\n}) => ({\n  minHeight: '100vh',\n  display: 'flex',\n  flexDirection: 'column',\n  background: `linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url(${salesBackground})`,\n  backgroundSize: 'cover',\n  backgroundPosition: 'center',\n  backgroundAttachment: 'fixed'\n}));\n_c = StyledContainer;\nconst LoginContainer = styled(Box)(({\n  theme\n}) => ({\n  maxWidth: '400px',\n  width: '100%',\n  margin: 'auto',\n  padding: theme.spacing(4),\n  backgroundColor: 'rgba(0, 0, 0, 0.8)',\n  borderRadius: theme.spacing(2),\n  boxShadow: '0 0 20px rgba(0, 255, 157, 0.2)'\n}));\n_c2 = LoginContainer;\nconst LoginPaper = styled(Paper)(({\n  theme\n}) => ({\n  padding: theme.spacing(4),\n  borderRadius: theme.spacing(2),\n  background: 'rgba(26, 26, 26, 0.95)',\n  backdropFilter: 'blur(10px)',\n  boxShadow: '0 8px 32px rgba(0, 0, 0, 0.3)',\n  transition: 'transform 0.3s ease-in-out',\n  border: `1px solid ${theme.palette.primary.main}30`,\n  width: '100%',\n  maxWidth: '450px',\n  '&:hover': {\n    transform: 'translateY(-5px)'\n  }\n}));\nconst BrandContainer = styled(Box)(({\n  theme\n}) => ({\n  textAlign: 'center',\n  marginBottom: theme.spacing(4)\n}));\nconst BrandName = styled(Typography)(({\n  theme\n}) => ({\n  fontSize: '2.5rem',\n  fontWeight: 700,\n  marginBottom: theme.spacing(1),\n  background: `linear-gradient(45deg, ${theme.palette.primary.main}, ${theme.palette.primary.light})`,\n  WebkitBackgroundClip: 'text',\n  WebkitTextFillColor: 'transparent',\n  textShadow: '0 0 20px rgba(0, 255, 157, 0.3)'\n}));\nconst Tagline = styled(Typography)(({\n  theme\n}) => ({\n  color: theme.palette.text.secondary,\n  fontSize: '1.1rem',\n  marginBottom: theme.spacing(2)\n}));\nconst SwitchAccountText = styled(Typography)(({\n  theme\n}) => ({\n  color: theme.palette.primary.main,\n  cursor: 'pointer',\n  '&:hover': {\n    textDecoration: 'underline'\n  }\n}));\nconst ChatContainer = styled(Box)(({\n  theme\n}) => ({\n  height: '100vh',\n  display: 'flex',\n  flexDirection: 'column',\n  padding: theme.spacing(2),\n  gap: theme.spacing(2)\n}));\n_c3 = ChatContainer;\nconst ChatHeader = styled(Box)(({\n  theme\n}) => ({\n  display: 'flex',\n  justifyContent: 'space-between',\n  alignItems: 'center',\n  padding: theme.spacing(2),\n  backgroundColor: 'rgba(26, 26, 26, 0.95)',\n  borderRadius: theme.spacing(2),\n  backdropFilter: 'blur(10px)',\n  border: `1px solid ${theme.palette.primary.main}30`,\n  boxShadow: '0 4px 16px rgba(0, 0, 0, 0.2)'\n}));\n_c4 = ChatHeader;\nconst ChatMessages = styled(Box)(({\n  theme\n}) => ({\n  flex: 1,\n  overflowY: 'auto',\n  padding: theme.spacing(2),\n  display: 'flex',\n  flexDirection: 'column',\n  gap: theme.spacing(2),\n  '&::-webkit-scrollbar': {\n    width: '8px'\n  },\n  '&::-webkit-scrollbar-track': {\n    background: 'rgba(0, 0, 0, 0.1)',\n    borderRadius: '4px'\n  },\n  '&::-webkit-scrollbar-thumb': {\n    background: theme.palette.primary.main,\n    borderRadius: '4px'\n  }\n}));\n_c5 = ChatMessages;\nconst MessageBubble = styled(Box)(({\n  theme,\n  isUser\n}) => ({\n  maxWidth: '80%',\n  padding: theme.spacing(2),\n  borderRadius: theme.spacing(2),\n  backgroundColor: isUser ? theme.palette.primary.main : 'rgba(26, 26, 26, 0.95)',\n  color: isUser ? theme.palette.primary.contrastText : theme.palette.text.primary,\n  alignSelf: isUser ? 'flex-end' : 'flex-start',\n  boxShadow: '0 2px 8px rgba(0, 0, 0, 0.2)',\n  transition: 'all 0.3s ease',\n  border: isUser ? 'none' : `1px solid ${theme.palette.primary.main}30`,\n  '&:hover': {\n    transform: 'scale(1.02)',\n    boxShadow: '0 4px 12px rgba(0, 0, 0, 0.3)'\n  }\n}));\n_c6 = MessageBubble;\nconst ChatInput = styled(Box)(({\n  theme\n}) => ({\n  padding: theme.spacing(2),\n  backgroundColor: 'rgba(26, 26, 26, 0.95)',\n  borderRadius: theme.spacing(2),\n  backdropFilter: 'blur(10px)',\n  border: `1px solid ${theme.palette.primary.main}30`,\n  display: 'flex',\n  gap: theme.spacing(1),\n  boxShadow: '0 4px 16px rgba(0, 0, 0, 0.2)'\n}));\n_c7 = ChatInput;\nconst GlowingText = styled(Typography)(({\n  theme\n}) => ({\n  textShadow: '0 0 10px rgba(0, 255, 157, 0.5)',\n  animation: 'glow 2s ease-in-out infinite alternate',\n  '@keyframes glow': {\n    from: {\n      textShadow: '0 0 10px rgba(0, 255, 157, 0.5)'\n    },\n    to: {\n      textShadow: '0 0 20px rgba(0, 255, 157, 0.8), 0 0 30px rgba(0, 255, 157, 0.6)'\n    }\n  }\n}));\n_c8 = GlowingText;\nconst StyledButton = styled(Button)(({\n  theme\n}) => ({\n  backgroundColor: theme.palette.primary.main,\n  color: theme.palette.background.paper,\n  '&:hover': {\n    backgroundColor: theme.palette.primary.dark\n  }\n}));\n_c9 = StyledButton;\nconst StyledForm = styled('form')(({\n  theme\n}) => ({\n  display: 'flex',\n  flexDirection: 'column',\n  gap: theme.spacing(2)\n}));\n_c0 = StyledForm;\nconst StyledTextField = styled(TextField)(({\n  theme\n}) => ({\n  '& .MuiOutlinedInput-root': {\n    color: theme.palette.primary.main,\n    '& fieldset': {\n      borderColor: theme.palette.primary.main\n    },\n    '&:hover fieldset': {\n      borderColor: theme.palette.primary.light\n    },\n    '&.Mui-focused fieldset': {\n      borderColor: theme.palette.primary.main\n    }\n  },\n  '& .MuiInputLabel-root': {\n    color: theme.palette.primary.main\n  }\n}));\n_c1 = StyledTextField;\nconst UserInfo = styled(Box)(({\n  theme\n}) => ({\n  display: 'flex',\n  alignItems: 'center',\n  gap: theme.spacing(2),\n  '& .MuiTypography-root': {\n    fontWeight: 600\n  }\n}));\n_c10 = UserInfo;\nconst IconWrapper = styled(Box)(({\n  theme\n}) => ({\n  display: 'flex',\n  alignItems: 'center',\n  gap: theme.spacing(1),\n  padding: theme.spacing(1),\n  borderRadius: theme.spacing(1),\n  backgroundColor: 'rgba(0, 255, 157, 0.1)',\n  '& svg': {\n    color: theme.palette.primary.main\n  }\n}));\n_c11 = IconWrapper;\nfunction App() {\n  _s();\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [isRegistering, setIsRegistering] = useState(false);\n  const [username, setUsername] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [messages, setMessages] = useState([]);\n  const [inputMessage, setInputMessage] = useState('');\n  const [isListening, setIsListening] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [currentUser, setCurrentUser] = useState(null);\n  const messagesEndRef = useRef(null);\n  const theme = useTheme();\n  const isMobile = useMediaQuery(theme.breakpoints.down('sm'));\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: 'smooth'\n    });\n  };\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      fetch('http://localhost:5000/api/chat/history', {\n        credentials: 'include'\n      }).then(res => res.json()).then(data => {\n        if (data.messages) {\n          setMessages(data.messages);\n        }\n      }).catch(err => console.error('Error fetching chat history:', err));\n    }\n  }, []);\n\n  // Update useEffect for welcome message\n  useEffect(() => {\n    const initializeChat = async () => {\n      if (isLoggedIn && currentUser) {\n        try {\n          console.log('Sending welcome message request...'); // Debug log\n          const response = await fetch('http://localhost:5000/api/chat', {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            credentials: 'include',\n            body: JSON.stringify({\n              message: 'welcome'\n            })\n          });\n          if (response.ok) {\n            const data = await response.json();\n            console.log('Welcome message response:', data); // Debug log\n            if (data.response) {\n              setMessages([{\n                role: 'assistant',\n                content: data.response,\n                timestamp: new Date().toISOString()\n              }]);\n            }\n          } else {\n            console.error('Failed to get welcome message:', response.status); // Debug log\n          }\n        } catch (error) {\n          console.error('Error initializing chat:', error);\n        }\n      }\n    };\n    if (isLoggedIn && currentUser) {\n      console.log('User is logged in, initializing chat...'); // Debug log\n      initializeChat();\n    }\n  }, [isLoggedIn, currentUser]);\n  const handleLogin = async e => {\n    e.preventDefault();\n    setIsLoading(true);\n    try {\n      const response = await fetch('http://localhost:5000/api/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        credentials: 'include',\n        body: JSON.stringify({\n          username,\n          password\n        })\n      });\n      const data = await response.json();\n      if (response.ok) {\n        setIsLoggedIn(true);\n        setCurrentUser(data.user);\n        setMessages([]); // Clear messages when logging in\n      } else {\n        alert(data.error);\n      }\n    } catch (error) {\n      console.error('Error:', error);\n      alert('An error occurred during login');\n    }\n    setIsLoading(false);\n  };\n  const handleRegister = async e => {\n    e.preventDefault();\n    setIsLoading(true);\n    try {\n      const response = await fetch('http://localhost:5000/api/register', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        credentials: 'include',\n        body: JSON.stringify({\n          username,\n          email,\n          password\n        })\n      });\n      const data = await response.json();\n      if (response.ok) {\n        setIsLoggedIn(true);\n        setCurrentUser(data.user);\n        setMessages([]); // Clear messages when registering\n        // Send welcome message immediately after registration\n        const welcomeResponse = await fetch('http://localhost:5000/api/chat', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          credentials: 'include',\n          body: JSON.stringify({\n            message: 'welcome'\n          })\n        });\n        if (welcomeResponse.ok) {\n          const welcomeData = await welcomeResponse.json();\n          if (welcomeData.response) {\n            setMessages([{\n              role: 'assistant',\n              content: welcomeData.response,\n              timestamp: new Date().toISOString()\n            }]);\n          }\n        }\n      } else {\n        alert(data.error);\n      }\n    } catch (error) {\n      console.error('Error:', error);\n      alert('An error occurred during registration');\n    }\n    setIsLoading(false);\n  };\n  const handleLogout = async () => {\n    try {\n      await fetch('http://localhost:5000/api/logout', {\n        method: 'POST',\n        credentials: 'include'\n      });\n      setIsLoggedIn(false);\n      setCurrentUser(null);\n      setMessages([]);\n      setAnchorEl(null);\n    } catch (error) {\n      console.error('Error:', error);\n    }\n  };\n  const handleSendMessage = async e => {\n    e.preventDefault();\n    if (!inputMessage.trim()) return;\n\n    // Add user message to chat\n    const userMessage = {\n      role: 'user',\n      content: inputMessage,\n      timestamp: new Date().toISOString()\n    };\n    setMessages(prev => [...prev, userMessage]);\n    setInputMessage('');\n    try {\n      const response = await fetch('http://localhost:5000/api/chat', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        credentials: 'include',\n        body: JSON.stringify({\n          message: inputMessage\n        })\n      });\n      if (response.ok) {\n        const data = await response.json();\n        if (data.response) {\n          // Add assistant response to chat\n          const assistantMessage = {\n            role: 'assistant',\n            content: data.response,\n            timestamp: new Date().toISOString()\n          };\n          setMessages(prev => [...prev, assistantMessage]);\n        }\n      } else {\n        const error = await response.json();\n        console.error('Error:', error);\n        // Add error message to chat\n        const errorMessage = {\n          role: 'assistant',\n          content: '❌ Sorry, there was an error processing your request. Please try again.',\n          timestamp: new Date().toISOString()\n        };\n        setMessages(prev => [...prev, errorMessage]);\n      }\n    } catch (error) {\n      console.error('Error:', error);\n      // Add error message to chat\n      const errorMessage = {\n        role: 'assistant',\n        content: '❌ Sorry, there was an error processing your request. Please try again.',\n        timestamp: new Date().toISOString()\n      };\n      setMessages(prev => [...prev, errorMessage]);\n    }\n  };\n  const handleVoiceInput = () => {\n    if (!('webkitSpeechRecognition' in window)) {\n      alert('Voice input is not supported in your browser');\n      return;\n    }\n    const recognition = new window.webkitSpeechRecognition();\n    recognition.continuous = false;\n    recognition.interimResults = false;\n    recognition.onstart = () => {\n      setIsListening(true);\n    };\n    recognition.onresult = event => {\n      const transcript = event.results[0][0].transcript;\n      setInputMessage(transcript);\n      setIsListening(false);\n    };\n    recognition.onerror = event => {\n      console.error('Speech recognition error:', event.error);\n      setIsListening(false);\n    };\n    recognition.onend = () => {\n      setIsListening(false);\n    };\n    recognition.start();\n  };\n  const handleWelcomeMessage = message => {\n    setMessages([message]);\n  };\n  if (!isLoggedIn) {\n    return /*#__PURE__*/_jsxDEV(ThemeProvider, {\n      theme: darkTheme,\n      children: /*#__PURE__*/_jsxDEV(StyledContainer, {\n        children: /*#__PURE__*/_jsxDEV(LoginContainer, {\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              textAlign: 'center',\n              mb: 4\n            },\n            children: [/*#__PURE__*/_jsxDEV(IconWrapper, {\n              children: /*#__PURE__*/_jsxDEV(Store, {\n                sx: {\n                  fontSize: 48\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 579,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 578,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(GlowingText, {\n              variant: \"h4\",\n              sx: {\n                mt: 2\n              },\n              children: \"SalesBot Assistant\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 581,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 577,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(StyledForm, {\n            onSubmit: handleLogin,\n            children: [/*#__PURE__*/_jsxDEV(StyledTextField, {\n              label: \"Username\",\n              value: username,\n              onChange: e => setUsername(e.target.value),\n              required: true,\n              fullWidth: true,\n              sx: {\n                mb: 2\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 586,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(StyledTextField, {\n              label: \"Password\",\n              type: \"password\",\n              value: password,\n              onChange: e => setPassword(e.target.value),\n              required: true,\n              fullWidth: true,\n              sx: {\n                mb: 3\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 594,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(StyledButton, {\n              type: \"submit\",\n              variant: \"contained\",\n              fullWidth: true,\n              disabled: isLoading,\n              children: isLoading ? 'Logging in...' : 'Login'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 603,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 585,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 576,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 575,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 574,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(ThemeProvider, {\n    theme: darkTheme,\n    children: /*#__PURE__*/_jsxDEV(StyledContainer, {\n      children: /*#__PURE__*/_jsxDEV(ChatContainer, {\n        children: [/*#__PURE__*/_jsxDEV(ChatHeader, {\n          children: [/*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: 2\n            },\n            children: [/*#__PURE__*/_jsxDEV(IconWrapper, {\n              children: /*#__PURE__*/_jsxDEV(Store, {\n                sx: {\n                  fontSize: 32\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 625,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 624,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(GlowingText, {\n              variant: \"h5\",\n              children: \"SalesBot Assistant\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 627,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 623,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(UserInfo, {\n            children: [/*#__PURE__*/_jsxDEV(IconWrapper, {\n              children: /*#__PURE__*/_jsxDEV(ShoppingCart, {\n                sx: {\n                  fontSize: 24\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 633,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 632,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"body1\",\n              children: currentUser === null || currentUser === void 0 ? void 0 : currentUser.username\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 635,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n              onClick: e => setAnchorEl(e.currentTarget),\n              sx: {\n                color: 'primary.main',\n                '&:hover': {\n                  backgroundColor: 'rgba(0, 255, 157, 0.1)'\n                }\n              },\n              children: /*#__PURE__*/_jsxDEV(AccountCircle, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 647,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 638,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Menu, {\n              anchorEl: anchorEl,\n              open: Boolean(anchorEl),\n              onClose: () => setAnchorEl(null),\n              PaperProps: {\n                sx: {\n                  backgroundColor: 'background.paper',\n                  borderRadius: 2,\n                  border: '1px solid',\n                  borderColor: 'primary.main'\n                }\n              },\n              children: /*#__PURE__*/_jsxDEV(MenuItem, {\n                onClick: handleLogout,\n                children: [/*#__PURE__*/_jsxDEV(LogoutIcon, {\n                  sx: {\n                    mr: 1,\n                    color: 'primary.main'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 663,\n                  columnNumber: 19\n                }, this), \"Logout\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 662,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 649,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 631,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 622,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ChatMessages, {\n          children: [/*#__PURE__*/_jsxDEV(WelcomeMessage, {\n            username: currentUser === null || currentUser === void 0 ? void 0 : currentUser.username,\n            onLoad: handleWelcomeMessage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 671,\n            columnNumber: 13\n          }, this), messages.map((message, index) => /*#__PURE__*/_jsxDEV(MessageBubble, {\n            isUser: message.role === 'user',\n            timestamp: message.timestamp,\n            children: message.content\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 676,\n            columnNumber: 15\n          }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n            ref: messagesEndRef\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 684,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 670,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ChatInput, {\n          children: [/*#__PURE__*/_jsxDEV(StyledTextField, {\n            value: inputMessage,\n            onChange: e => setInputMessage(e.target.value),\n            onKeyPress: e => e.key === 'Enter' && handleSendMessage(e),\n            placeholder: \"Type your message...\",\n            fullWidth: true,\n            multiline: true,\n            maxRows: 4,\n            sx: {\n              mr: 2\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 688,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n            onClick: handleVoiceInput,\n            sx: {\n              color: 'primary.main',\n              '&:hover': {\n                backgroundColor: 'rgba(0, 255, 157, 0.1)'\n              }\n            },\n            children: /*#__PURE__*/_jsxDEV(MicIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 707,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 698,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n            onClick: handleSendMessage,\n            disabled: !inputMessage.trim(),\n            sx: {\n              color: 'primary.main',\n              '&:hover': {\n                backgroundColor: 'rgba(0, 255, 157, 0.1)'\n              }\n            },\n            children: /*#__PURE__*/_jsxDEV(SendIcon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 719,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 709,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 687,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 621,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 620,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 619,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"vD/pBL/RC6G5t7aVEYDuoeON3as=\", false, function () {\n  return [useTheme, useMediaQuery];\n});\n_c12 = App;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12;\n$RefreshReg$(_c, \"StyledContainer\");\n$RefreshReg$(_c2, \"LoginContainer\");\n$RefreshReg$(_c3, \"ChatContainer\");\n$RefreshReg$(_c4, \"ChatHeader\");\n$RefreshReg$(_c5, \"ChatMessages\");\n$RefreshReg$(_c6, \"MessageBubble\");\n$RefreshReg$(_c7, \"ChatInput\");\n$RefreshReg$(_c8, \"GlowingText\");\n$RefreshReg$(_c9, \"StyledButton\");\n$RefreshReg$(_c0, \"StyledForm\");\n$RefreshReg$(_c1, \"StyledTextField\");\n$RefreshReg$(_c10, \"UserInfo\");\n$RefreshReg$(_c11, \"IconWrapper\");\n$RefreshReg$(_c12, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","Container","Box","TextField","Button","Typography","Paper","Avatar","IconButton","Menu","MenuItem","CircularProgress","useTheme","useMediaQuery","ThemeProvider","createTheme","CssBaseline","Send","SendIcon","Mic","MicIcon","MicOff","MicOffIcon","AccountCircle","Logout","LogoutIcon","ShoppingCart","Store","Analytics","styled","salesBackground","WelcomeMessage","jsxDEV","_jsxDEV","darkTheme","palette","mode","primary","main","light","dark","secondary","background","default","paper","text","typography","fontFamily","h1","fontWeight","h2","h3","h4","h5","h6","button","textTransform","shape","borderRadius","components","MuiButton","styleOverrides","root","padding","MuiTextField","StyledContainer","theme","minHeight","display","flexDirection","backgroundSize","backgroundPosition","backgroundAttachment","_c","LoginContainer","maxWidth","width","margin","spacing","backgroundColor","boxShadow","_c2","LoginPaper","backdropFilter","transition","border","transform","BrandContainer","textAlign","marginBottom","BrandName","fontSize","WebkitBackgroundClip","WebkitTextFillColor","textShadow","Tagline","color","SwitchAccountText","cursor","textDecoration","ChatContainer","height","gap","_c3","ChatHeader","justifyContent","alignItems","_c4","ChatMessages","flex","overflowY","_c5","MessageBubble","isUser","contrastText","alignSelf","_c6","ChatInput","_c7","GlowingText","animation","from","to","_c8","StyledButton","_c9","StyledForm","_c0","StyledTextField","borderColor","_c1","UserInfo","_c10","IconWrapper","_c11","App","_s","isLoggedIn","setIsLoggedIn","isRegistering","setIsRegistering","username","setUsername","email","setEmail","password","setPassword","messages","setMessages","inputMessage","setInputMessage","isListening","setIsListening","isLoading","setIsLoading","anchorEl","setAnchorEl","currentUser","setCurrentUser","messagesEndRef","isMobile","breakpoints","down","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","token","localStorage","getItem","fetch","credentials","then","res","json","data","catch","err","console","error","initializeChat","log","response","method","headers","body","JSON","stringify","message","ok","role","content","timestamp","Date","toISOString","status","handleLogin","e","preventDefault","user","alert","handleRegister","welcomeResponse","welcomeData","handleLogout","handleSendMessage","trim","userMessage","prev","assistantMessage","errorMessage","handleVoiceInput","window","recognition","webkitSpeechRecognition","continuous","interimResults","onstart","onresult","event","transcript","results","onerror","onend","start","handleWelcomeMessage","children","sx","mb","fileName","_jsxFileName","lineNumber","columnNumber","variant","mt","onSubmit","label","value","onChange","target","required","fullWidth","type","disabled","onClick","currentTarget","open","Boolean","onClose","PaperProps","mr","onLoad","map","index","ref","onKeyPress","key","placeholder","multiline","maxRows","_c12","$RefreshReg$"],"sources":["C:/Users/singh/Dropbox/CODING/EcommerceChatbot/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { \r\n  Container, \r\n  Box, \r\n  TextField, \r\n  Button, \r\n  Typography, \r\n  Paper,\r\n  Avatar,\r\n  IconButton,\r\n  Menu,\r\n  MenuItem,\r\n  CircularProgress,\r\n  useTheme,\r\n  useMediaQuery,\r\n  ThemeProvider,\r\n  createTheme,\r\n  CssBaseline\r\n} from '@mui/material';\r\nimport { \r\n  Send as SendIcon, \r\n  Mic as MicIcon, \r\n  MicOff as MicOffIcon,\r\n  AccountCircle,\r\n  Logout as LogoutIcon,\r\n  ShoppingCart,\r\n  Store,\r\n  Analytics\r\n} from '@mui/icons-material';\r\nimport { styled } from '@mui/material/styles';\r\nimport salesBackground from './assets/sales-background.jpg';\r\nimport WelcomeMessage from './components/WelcomeMessage';\r\n\r\n// Custom theme\r\nconst darkTheme = createTheme({\r\n  palette: {\r\n    mode: 'dark',\r\n    primary: {\r\n      main: '#00ff9d',\r\n      light: '#66ffc2',\r\n      dark: '#00cc7d',\r\n    },\r\n    secondary: {\r\n      main: '#ff4081',\r\n      light: '#ff79b0',\r\n      dark: '#c60055',\r\n    },\r\n    background: {\r\n      default: '#000000',\r\n      paper: '#1a1a1a',\r\n    },\r\n    text: {\r\n      primary: '#ffffff',\r\n      secondary: '#b3b3b3',\r\n    },\r\n  },\r\n  typography: {\r\n    fontFamily: '\"Poppins\", \"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\r\n    h1: {\r\n      fontFamily: '\"Montserrat\", sans-serif',\r\n      fontWeight: 700,\r\n    },\r\n    h2: {\r\n      fontFamily: '\"Montserrat\", sans-serif',\r\n      fontWeight: 600,\r\n    },\r\n    h3: {\r\n      fontFamily: '\"Montserrat\", sans-serif',\r\n      fontWeight: 600,\r\n    },\r\n    h4: {\r\n      fontFamily: '\"Montserrat\", sans-serif',\r\n      fontWeight: 600,\r\n    },\r\n    h5: {\r\n      fontFamily: '\"Montserrat\", sans-serif',\r\n      fontWeight: 600,\r\n    },\r\n    h6: {\r\n      fontFamily: '\"Montserrat\", sans-serif',\r\n      fontWeight: 600,\r\n    },\r\n    button: {\r\n      fontFamily: '\"Poppins\", sans-serif',\r\n      fontWeight: 600,\r\n      textTransform: 'none',\r\n    },\r\n  },\r\n  shape: {\r\n    borderRadius: 12,\r\n  },\r\n  components: {\r\n    MuiButton: {\r\n      styleOverrides: {\r\n        root: {\r\n          borderRadius: 12,\r\n          padding: '10px 24px',\r\n        },\r\n      },\r\n    },\r\n    MuiTextField: {\r\n      styleOverrides: {\r\n        root: {\r\n          '& .MuiOutlinedInput-root': {\r\n            borderRadius: 12,\r\n          },\r\n        },\r\n      },\r\n    },\r\n  },\r\n});\r\n\r\n// Styled components\r\nconst StyledContainer = styled('div')(({ theme }) => ({\r\n  minHeight: '100vh',\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  background: `linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url(${salesBackground})`,\r\n  backgroundSize: 'cover',\r\n  backgroundPosition: 'center',\r\n  backgroundAttachment: 'fixed',\r\n}));\r\n\r\nconst LoginContainer = styled(Box)(({ theme }) => ({\r\n  maxWidth: '400px',\r\n  width: '100%',\r\n  margin: 'auto',\r\n  padding: theme.spacing(4),\r\n  backgroundColor: 'rgba(0, 0, 0, 0.8)',\r\n  borderRadius: theme.spacing(2),\r\n  boxShadow: '0 0 20px rgba(0, 255, 157, 0.2)',\r\n}));\r\n\r\nconst LoginPaper = styled(Paper)(({ theme }) => ({\r\n  padding: theme.spacing(4),\r\n  borderRadius: theme.spacing(2),\r\n  background: 'rgba(26, 26, 26, 0.95)',\r\n  backdropFilter: 'blur(10px)',\r\n  boxShadow: '0 8px 32px rgba(0, 0, 0, 0.3)',\r\n  transition: 'transform 0.3s ease-in-out',\r\n  border: `1px solid ${theme.palette.primary.main}30`,\r\n  width: '100%',\r\n  maxWidth: '450px',\r\n  '&:hover': {\r\n    transform: 'translateY(-5px)',\r\n  },\r\n}));\r\n\r\nconst BrandContainer = styled(Box)(({ theme }) => ({\r\n  textAlign: 'center',\r\n  marginBottom: theme.spacing(4),\r\n}));\r\n\r\nconst BrandName = styled(Typography)(({ theme }) => ({\r\n  fontSize: '2.5rem',\r\n  fontWeight: 700,\r\n  marginBottom: theme.spacing(1),\r\n  background: `linear-gradient(45deg, ${theme.palette.primary.main}, ${theme.palette.primary.light})`,\r\n  WebkitBackgroundClip: 'text',\r\n  WebkitTextFillColor: 'transparent',\r\n  textShadow: '0 0 20px rgba(0, 255, 157, 0.3)',\r\n}));\r\n\r\nconst Tagline = styled(Typography)(({ theme }) => ({\r\n  color: theme.palette.text.secondary,\r\n  fontSize: '1.1rem',\r\n  marginBottom: theme.spacing(2),\r\n}));\r\n\r\nconst SwitchAccountText = styled(Typography)(({ theme }) => ({\r\n  color: theme.palette.primary.main,\r\n  cursor: 'pointer',\r\n  '&:hover': {\r\n    textDecoration: 'underline',\r\n  },\r\n}));\r\n\r\nconst ChatContainer = styled(Box)(({ theme }) => ({\r\n  height: '100vh',\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  padding: theme.spacing(2),\r\n  gap: theme.spacing(2),\r\n}));\r\n\r\nconst ChatHeader = styled(Box)(({ theme }) => ({\r\n  display: 'flex',\r\n  justifyContent: 'space-between',\r\n  alignItems: 'center',\r\n  padding: theme.spacing(2),\r\n  backgroundColor: 'rgba(26, 26, 26, 0.95)',\r\n  borderRadius: theme.spacing(2),\r\n  backdropFilter: 'blur(10px)',\r\n  border: `1px solid ${theme.palette.primary.main}30`,\r\n  boxShadow: '0 4px 16px rgba(0, 0, 0, 0.2)',\r\n}));\r\n\r\nconst ChatMessages = styled(Box)(({ theme }) => ({\r\n  flex: 1,\r\n  overflowY: 'auto',\r\n  padding: theme.spacing(2),\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  gap: theme.spacing(2),\r\n  '&::-webkit-scrollbar': {\r\n    width: '8px',\r\n  },\r\n  '&::-webkit-scrollbar-track': {\r\n    background: 'rgba(0, 0, 0, 0.1)',\r\n    borderRadius: '4px',\r\n  },\r\n  '&::-webkit-scrollbar-thumb': {\r\n    background: theme.palette.primary.main,\r\n    borderRadius: '4px',\r\n  },\r\n}));\r\n\r\nconst MessageBubble = styled(Box)(({ theme, isUser }) => ({\r\n  maxWidth: '80%',\r\n  padding: theme.spacing(2),\r\n  borderRadius: theme.spacing(2),\r\n  backgroundColor: isUser ? theme.palette.primary.main : 'rgba(26, 26, 26, 0.95)',\r\n  color: isUser ? theme.palette.primary.contrastText : theme.palette.text.primary,\r\n  alignSelf: isUser ? 'flex-end' : 'flex-start',\r\n  boxShadow: '0 2px 8px rgba(0, 0, 0, 0.2)',\r\n  transition: 'all 0.3s ease',\r\n  border: isUser ? 'none' : `1px solid ${theme.palette.primary.main}30`,\r\n  '&:hover': {\r\n    transform: 'scale(1.02)',\r\n    boxShadow: '0 4px 12px rgba(0, 0, 0, 0.3)',\r\n  },\r\n}));\r\n\r\nconst ChatInput = styled(Box)(({ theme }) => ({\r\n  padding: theme.spacing(2),\r\n  backgroundColor: 'rgba(26, 26, 26, 0.95)',\r\n  borderRadius: theme.spacing(2),\r\n  backdropFilter: 'blur(10px)',\r\n  border: `1px solid ${theme.palette.primary.main}30`,\r\n  display: 'flex',\r\n  gap: theme.spacing(1),\r\n  boxShadow: '0 4px 16px rgba(0, 0, 0, 0.2)',\r\n}));\r\n\r\nconst GlowingText = styled(Typography)(({ theme }) => ({\r\n  textShadow: '0 0 10px rgba(0, 255, 157, 0.5)',\r\n  animation: 'glow 2s ease-in-out infinite alternate',\r\n  '@keyframes glow': {\r\n    from: {\r\n      textShadow: '0 0 10px rgba(0, 255, 157, 0.5)',\r\n    },\r\n    to: {\r\n      textShadow: '0 0 20px rgba(0, 255, 157, 0.8), 0 0 30px rgba(0, 255, 157, 0.6)',\r\n    },\r\n  },\r\n}));\r\n\r\nconst StyledButton = styled(Button)(({ theme }) => ({\r\n  backgroundColor: theme.palette.primary.main,\r\n  color: theme.palette.background.paper,\r\n  '&:hover': {\r\n    backgroundColor: theme.palette.primary.dark,\r\n  },\r\n}));\r\n\r\nconst StyledForm = styled('form')(({ theme }) => ({\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  gap: theme.spacing(2),\r\n}));\r\n\r\nconst StyledTextField = styled(TextField)(({ theme }) => ({\r\n  '& .MuiOutlinedInput-root': {\r\n    color: theme.palette.primary.main,\r\n    '& fieldset': {\r\n      borderColor: theme.palette.primary.main,\r\n    },\r\n    '&:hover fieldset': {\r\n      borderColor: theme.palette.primary.light,\r\n    },\r\n    '&.Mui-focused fieldset': {\r\n      borderColor: theme.palette.primary.main,\r\n    },\r\n  },\r\n  '& .MuiInputLabel-root': {\r\n    color: theme.palette.primary.main,\r\n  },\r\n}));\r\n\r\nconst UserInfo = styled(Box)(({ theme }) => ({\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  gap: theme.spacing(2),\r\n  '& .MuiTypography-root': {\r\n    fontWeight: 600,\r\n  },\r\n}));\r\n\r\nconst IconWrapper = styled(Box)(({ theme }) => ({\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  gap: theme.spacing(1),\r\n  padding: theme.spacing(1),\r\n  borderRadius: theme.spacing(1),\r\n  backgroundColor: 'rgba(0, 255, 157, 0.1)',\r\n  '& svg': {\r\n    color: theme.palette.primary.main,\r\n  },\r\n}));\r\n\r\nfunction App() {\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  const [isRegistering, setIsRegistering] = useState(false);\r\n  const [username, setUsername] = useState('');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [messages, setMessages] = useState([]);\r\n  const [inputMessage, setInputMessage] = useState('');\r\n  const [isListening, setIsListening] = useState(false);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n  const messagesEndRef = useRef(null);\r\n  const theme = useTheme();\r\n  const isMobile = useMediaQuery(theme.breakpoints.down('sm'));\r\n\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  };\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages]);\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n      fetch('http://localhost:5000/api/chat/history', {\r\n        credentials: 'include',\r\n      })\r\n        .then(res => res.json())\r\n        .then(data => {\r\n          if (data.messages) {\r\n            setMessages(data.messages);\r\n          }\r\n        })\r\n        .catch(err => console.error('Error fetching chat history:', err));\r\n    }\r\n  }, []);\r\n\r\n  // Update useEffect for welcome message\r\n  useEffect(() => {\r\n    const initializeChat = async () => {\r\n      if (isLoggedIn && currentUser) {\r\n        try {\r\n          console.log('Sending welcome message request...'); // Debug log\r\n          const response = await fetch('http://localhost:5000/api/chat', {\r\n            method: 'POST',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n            },\r\n            credentials: 'include',\r\n            body: JSON.stringify({ message: 'welcome' }),\r\n          });\r\n          \r\n          if (response.ok) {\r\n            const data = await response.json();\r\n            console.log('Welcome message response:', data); // Debug log\r\n            if (data.response) {\r\n              setMessages([{\r\n                role: 'assistant',\r\n                content: data.response,\r\n                timestamp: new Date().toISOString()\r\n              }]);\r\n            }\r\n          } else {\r\n            console.error('Failed to get welcome message:', response.status); // Debug log\r\n          }\r\n        } catch (error) {\r\n          console.error('Error initializing chat:', error);\r\n        }\r\n      }\r\n    };\r\n\r\n    if (isLoggedIn && currentUser) {\r\n      console.log('User is logged in, initializing chat...'); // Debug log\r\n      initializeChat();\r\n    }\r\n  }, [isLoggedIn, currentUser]);\r\n\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n    setIsLoading(true);\r\n    try {\r\n      const response = await fetch('http://localhost:5000/api/login', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        credentials: 'include',\r\n        body: JSON.stringify({ username, password }),\r\n      });\r\n      const data = await response.json();\r\n      if (response.ok) {\r\n        setIsLoggedIn(true);\r\n        setCurrentUser(data.user);\r\n        setMessages([]); // Clear messages when logging in\r\n      } else {\r\n        alert(data.error);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error:', error);\r\n      alert('An error occurred during login');\r\n    }\r\n    setIsLoading(false);\r\n  };\r\n\r\n  const handleRegister = async (e) => {\r\n    e.preventDefault();\r\n    setIsLoading(true);\r\n    try {\r\n      const response = await fetch('http://localhost:5000/api/register', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        credentials: 'include',\r\n        body: JSON.stringify({ username, email, password }),\r\n      });\r\n      const data = await response.json();\r\n      if (response.ok) {\r\n        setIsLoggedIn(true);\r\n        setCurrentUser(data.user);\r\n        setMessages([]); // Clear messages when registering\r\n        // Send welcome message immediately after registration\r\n        const welcomeResponse = await fetch('http://localhost:5000/api/chat', {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n          credentials: 'include',\r\n          body: JSON.stringify({ message: 'welcome' }),\r\n        });\r\n        if (welcomeResponse.ok) {\r\n          const welcomeData = await welcomeResponse.json();\r\n          if (welcomeData.response) {\r\n            setMessages([{\r\n              role: 'assistant',\r\n              content: welcomeData.response,\r\n              timestamp: new Date().toISOString()\r\n            }]);\r\n          }\r\n        }\r\n      } else {\r\n        alert(data.error);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error:', error);\r\n      alert('An error occurred during registration');\r\n    }\r\n    setIsLoading(false);\r\n  };\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      await fetch('http://localhost:5000/api/logout', {\r\n        method: 'POST',\r\n        credentials: 'include',\r\n      });\r\n      setIsLoggedIn(false);\r\n      setCurrentUser(null);\r\n      setMessages([]);\r\n      setAnchorEl(null);\r\n    } catch (error) {\r\n      console.error('Error:', error);\r\n    }\r\n  };\r\n\r\n  const handleSendMessage = async (e) => {\r\n    e.preventDefault();\r\n    if (!inputMessage.trim()) return;\r\n\r\n    // Add user message to chat\r\n    const userMessage = {\r\n      role: 'user',\r\n      content: inputMessage,\r\n      timestamp: new Date().toISOString()\r\n    };\r\n    setMessages(prev => [...prev, userMessage]);\r\n    setInputMessage('');\r\n\r\n    try {\r\n      const response = await fetch('http://localhost:5000/api/chat', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        credentials: 'include',\r\n        body: JSON.stringify({ message: inputMessage }),\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        if (data.response) {\r\n          // Add assistant response to chat\r\n          const assistantMessage = {\r\n            role: 'assistant',\r\n            content: data.response,\r\n            timestamp: new Date().toISOString()\r\n          };\r\n          setMessages(prev => [...prev, assistantMessage]);\r\n        }\r\n      } else {\r\n        const error = await response.json();\r\n        console.error('Error:', error);\r\n        // Add error message to chat\r\n        const errorMessage = {\r\n          role: 'assistant',\r\n          content: '❌ Sorry, there was an error processing your request. Please try again.',\r\n          timestamp: new Date().toISOString()\r\n        };\r\n        setMessages(prev => [...prev, errorMessage]);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error:', error);\r\n      // Add error message to chat\r\n      const errorMessage = {\r\n        role: 'assistant',\r\n        content: '❌ Sorry, there was an error processing your request. Please try again.',\r\n        timestamp: new Date().toISOString()\r\n      };\r\n      setMessages(prev => [...prev, errorMessage]);\r\n    }\r\n  };\r\n\r\n  const handleVoiceInput = () => {\r\n    if (!('webkitSpeechRecognition' in window)) {\r\n      alert('Voice input is not supported in your browser');\r\n      return;\r\n    }\r\n\r\n    const recognition = new window.webkitSpeechRecognition();\r\n    recognition.continuous = false;\r\n    recognition.interimResults = false;\r\n\r\n    recognition.onstart = () => {\r\n      setIsListening(true);\r\n    };\r\n\r\n    recognition.onresult = (event) => {\r\n      const transcript = event.results[0][0].transcript;\r\n      setInputMessage(transcript);\r\n      setIsListening(false);\r\n    };\r\n\r\n    recognition.onerror = (event) => {\r\n      console.error('Speech recognition error:', event.error);\r\n      setIsListening(false);\r\n    };\r\n\r\n    recognition.onend = () => {\r\n      setIsListening(false);\r\n    };\r\n\r\n    recognition.start();\r\n  };\r\n\r\n  const handleWelcomeMessage = (message) => {\r\n    setMessages([message]);\r\n  };\r\n\r\n  if (!isLoggedIn) {\r\n    return (\r\n      <ThemeProvider theme={darkTheme}>\r\n        <StyledContainer>\r\n          <LoginContainer>\r\n            <Box sx={{ textAlign: 'center', mb: 4 }}>\r\n              <IconWrapper>\r\n                <Store sx={{ fontSize: 48 }} />\r\n              </IconWrapper>\r\n              <GlowingText variant=\"h4\" sx={{ mt: 2 }}>\r\n                SalesBot Assistant\r\n              </GlowingText>\r\n            </Box>\r\n            <StyledForm onSubmit={handleLogin}>\r\n              <StyledTextField\r\n                label=\"Username\"\r\n                value={username}\r\n                onChange={(e) => setUsername(e.target.value)}\r\n                required\r\n                fullWidth\r\n                sx={{ mb: 2 }}\r\n              />\r\n              <StyledTextField\r\n                label=\"Password\"\r\n                type=\"password\"\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n                required\r\n                fullWidth\r\n                sx={{ mb: 3 }}\r\n              />\r\n              <StyledButton\r\n                type=\"submit\"\r\n                variant=\"contained\"\r\n                fullWidth\r\n                disabled={isLoading}\r\n              >\r\n                {isLoading ? 'Logging in...' : 'Login'}\r\n              </StyledButton>\r\n            </StyledForm>\r\n          </LoginContainer>\r\n        </StyledContainer>\r\n      </ThemeProvider>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <ThemeProvider theme={darkTheme}>\r\n      <StyledContainer>\r\n        <ChatContainer>\r\n          <ChatHeader>\r\n            <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\r\n              <IconWrapper>\r\n                <Store sx={{ fontSize: 32 }} />\r\n              </IconWrapper>\r\n              <GlowingText variant=\"h5\">\r\n                SalesBot Assistant\r\n              </GlowingText>\r\n            </Box>\r\n            <UserInfo>\r\n              <IconWrapper>\r\n                <ShoppingCart sx={{ fontSize: 24 }} />\r\n              </IconWrapper>\r\n              <Typography variant=\"body1\">\r\n                {currentUser?.username}\r\n              </Typography>\r\n              <IconButton \r\n                onClick={(e) => setAnchorEl(e.currentTarget)}\r\n                sx={{\r\n                  color: 'primary.main',\r\n                  '&:hover': {\r\n                    backgroundColor: 'rgba(0, 255, 157, 0.1)',\r\n                  },\r\n                }}\r\n              >\r\n                <AccountCircle />\r\n              </IconButton>\r\n              <Menu\r\n                anchorEl={anchorEl}\r\n                open={Boolean(anchorEl)}\r\n                onClose={() => setAnchorEl(null)}\r\n                PaperProps={{\r\n                  sx: {\r\n                    backgroundColor: 'background.paper',\r\n                    borderRadius: 2,\r\n                    border: '1px solid',\r\n                    borderColor: 'primary.main',\r\n                  },\r\n                }}\r\n              >\r\n                <MenuItem onClick={handleLogout}>\r\n                  <LogoutIcon sx={{ mr: 1, color: 'primary.main' }} />\r\n                  Logout\r\n                </MenuItem>\r\n              </Menu>\r\n            </UserInfo>\r\n          </ChatHeader>\r\n\r\n          <ChatMessages>\r\n            <WelcomeMessage \r\n              username={currentUser?.username} \r\n              onLoad={handleWelcomeMessage} \r\n            />\r\n            {messages.map((message, index) => (\r\n              <MessageBubble\r\n                key={index}\r\n                isUser={message.role === 'user'}\r\n                timestamp={message.timestamp}\r\n              >\r\n                {message.content}\r\n              </MessageBubble>\r\n            ))}\r\n            <div ref={messagesEndRef} />\r\n          </ChatMessages>\r\n\r\n          <ChatInput>\r\n            <StyledTextField\r\n              value={inputMessage}\r\n              onChange={(e) => setInputMessage(e.target.value)}\r\n              onKeyPress={(e) => e.key === 'Enter' && handleSendMessage(e)}\r\n              placeholder=\"Type your message...\"\r\n              fullWidth\r\n              multiline\r\n              maxRows={4}\r\n              sx={{ mr: 2 }}\r\n            />\r\n            <IconButton \r\n              onClick={handleVoiceInput}\r\n              sx={{\r\n                color: 'primary.main',\r\n                '&:hover': {\r\n                  backgroundColor: 'rgba(0, 255, 157, 0.1)',\r\n                },\r\n              }}\r\n            >\r\n              <MicIcon />\r\n            </IconButton>\r\n            <IconButton\r\n              onClick={handleSendMessage}\r\n              disabled={!inputMessage.trim()}\r\n              sx={{\r\n                color: 'primary.main',\r\n                '&:hover': {\r\n                  backgroundColor: 'rgba(0, 255, 157, 0.1)',\r\n                },\r\n              }}\r\n            >\r\n              <SendIcon />\r\n            </IconButton>\r\n          </ChatInput>\r\n        </ChatContainer>\r\n      </StyledContainer>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}