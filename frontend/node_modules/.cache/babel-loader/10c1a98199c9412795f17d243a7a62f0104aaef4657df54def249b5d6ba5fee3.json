{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\singh\\\\Dropbox\\\\CODING\\\\EcommerceChatbot\\\\frontend\\\\src\\\\components\\\\ChatInterface.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { Box, TextField, IconButton, Paper, Typography, CircularProgress, Button, Menu, MenuItem, Avatar } from '@mui/material';\nimport SendIcon from '@mui/icons-material/Send';\nimport MicIcon from '@mui/icons-material/Mic';\nimport MoreVertIcon from '@mui/icons-material/MoreVert';\nimport LogoutIcon from '@mui/icons-material/Logout';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChatInterface = () => {\n  _s();\n  var _user$username, _user$username$;\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [isRecording, setIsRecording] = useState(false);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const messagesEndRef = useRef(null);\n  const recognitionRef = useRef(null);\n  const {\n    user,\n    logout\n  } = useAuth();\n  const navigate = useNavigate();\n\n  // Initialize speech recognition\n  useEffect(() => {\n    if ('webkitSpeechRecognition' in window) {\n      recognitionRef.current = new window.webkitSpeechRecognition();\n      recognitionRef.current.continuous = false;\n      recognitionRef.current.interimResults = false;\n      recognitionRef.current.lang = 'en-US';\n      recognitionRef.current.onresult = event => {\n        const transcript = event.results[0][0].transcript;\n        setInput(transcript);\n      };\n      recognitionRef.current.onend = () => {\n        setIsRecording(false);\n        if (input.trim()) {\n          handleSubmit(new Event('submit'));\n        }\n      };\n    }\n    return () => {\n      if (recognitionRef.current) {\n        recognitionRef.current.stop();\n      }\n    };\n  }, [input]);\n  const scrollToBottom = useCallback(() => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  }, []);\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages, scrollToBottom]);\n  const handleSendMessage = useCallback(async messageContent => {\n    if (!messageContent.trim()) return;\n    const userMessage = {\n      role: 'user',\n      content: messageContent.trim()\n    };\n    setMessages(prev => [...prev, userMessage]);\n    setIsLoading(true);\n    try {\n      const response = await fetch('http://localhost:5000/api/chat', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          message: userMessage.content\n        }),\n        credentials: 'include'\n      });\n      if (response.ok) {\n        const data = await response.json();\n        const botMessage = {\n          role: 'assistant',\n          content: data.response\n        };\n        setMessages(prev => [...prev, botMessage]);\n      } else {\n        throw new Error('Failed to get response');\n      }\n    } catch (error) {\n      console.error('Error:', error);\n      setMessages(prev => [...prev, {\n        role: 'assistant',\n        content: 'Sorry, I encountered an error. Please try again.'\n      }]);\n    } finally {\n      setIsLoading(false);\n    }\n  }, []);\n  const handleSubmit = useCallback(async e => {\n    e.preventDefault();\n    if (!input.trim()) return;\n    const currentInput = input;\n    setInput('');\n    await handleSendMessage(currentInput);\n  }, [input, handleSendMessage]);\n  const handleVoiceInput = useCallback(() => {\n    if (!recognitionRef.current) {\n      alert('Speech recognition is not supported in your browser.');\n      return;\n    }\n    if (isRecording) {\n      recognitionRef.current.stop();\n    } else {\n      setInput('');\n      recognitionRef.current.start();\n      setIsRecording(true);\n    }\n  }, [isRecording]);\n  const handleMenuClick = event => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleMenuClose = () => {\n    setAnchorEl(null);\n  };\n  const handleLogout = async () => {\n    try {\n      await logout();\n      navigate('/login');\n    } catch (error) {\n      console.error('Logout failed:', error);\n    }\n  };\n\n  // Load chat history when component mounts\n  useEffect(() => {\n    const loadChatHistory = async () => {\n      try {\n        setMessages([]);\n        const response = await fetch('http://localhost:5000/api/chat/history', {\n          credentials: 'include'\n        });\n        if (response.ok) {\n          const data = await response.json();\n          if (data.messages && data.messages.length > 0) {\n            setMessages(data.messages);\n          } else {\n            const welcomeMessage = {\n              role: 'assistant',\n              content: `üåü Welcome ${(user === null || user === void 0 ? void 0 : user.username) || 'there'} to the Sales Chatbot! üåü\\n\\n` + 'I\\'m your AI-powered shopping assistant, ready to help you manage your products efficiently.\\n\\n' + 'üéØ Here\\'s what I can do for you:\\n\\n' + 'üì¶ Product Management:\\n' + '   ‚Ä¢ Add new products\\n' + '   ‚Ä¢ Update existing products\\n' + '   ‚Ä¢ Remove products\\n' + '   ‚Ä¢ View all products\\n\\n' + 'üîç Search & Filter:\\n' + '   ‚Ä¢ Search by product name\\n' + '   ‚Ä¢ Filter by category\\n' + '   ‚Ä¢ View product details\\n\\n' + 'üé§ Voice Commands:\\n' + '   ‚Ä¢ Click the microphone icon\\n' + '   ‚Ä¢ Speak your command clearly\\n' + '   ‚Ä¢ Click again to stop\\n\\n' + 'üí° Quick Tips:\\n' + '   ‚Ä¢ Use clear, specific commands\\n' + '   ‚Ä¢ Prices should be numbers\\n' + '   ‚Ä¢ Stock should be whole numbers\\n' + '   ‚Ä¢ Categories help organize products\\n\\n' + 'üìù Example Commands:\\n' + '   ‚Ä¢ \"Add product: laptop, 999.99, 10, electronics\"\\n' + '   ‚Ä¢ \"Update product: laptop, price, 899.99\"\\n' + '   ‚Ä¢ \"Search laptop\"\\n' + '   ‚Ä¢ \"Show all products\"\\n\\n' + 'How can I assist you today? üòä'\n            };\n            setMessages([welcomeMessage]);\n            await handleSendMessage(welcomeMessage.content);\n          }\n        } else {\n          const welcomeMessage = {\n            role: 'assistant',\n            content: `üåü Welcome ${(user === null || user === void 0 ? void 0 : user.username) || 'there'} to the Sales Chatbot! üåü\\n\\n` + 'I\\'m your AI-powered shopping assistant. How can I help you today?'\n          };\n          setMessages([welcomeMessage]);\n        }\n      } catch (error) {\n        console.error('Error loading chat history:', error);\n        setMessages([{\n          role: 'assistant',\n          content: `üåü Welcome ${(user === null || user === void 0 ? void 0 : user.username) || 'there'} to the Sales Chatbot! üåü\\n\\n` + 'I\\'m your AI-powered shopping assistant. How can I help you today?'\n        }]);\n      }\n    };\n    loadChatHistory();\n  }, [user, handleSendMessage]);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      height: '100vh',\n      display: 'flex',\n      flexDirection: 'column',\n      bgcolor: '#1A1A1A',\n      background: 'linear-gradient(135deg, rgba(26, 26, 26, 0.9) 0%, rgba(45, 45, 45, 0.9) 100%), url(\"https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80\")',\n      backgroundSize: 'cover',\n      backgroundPosition: 'center',\n      position: 'relative',\n      '&::before': {\n        content: '\"\"',\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        background: 'radial-gradient(circle at center, rgba(233, 30, 99, 0.1) 0%, rgba(33, 150, 243, 0.1) 100%)',\n        pointerEvents: 'none'\n      }\n    },\n    children: [/*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        p: 2,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between',\n        bgcolor: 'rgba(45, 45, 45, 0.95)',\n        borderBottom: '1px solid rgba(233, 30, 99, 0.2)'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          alignItems: 'center',\n          gap: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(Avatar, {\n          sx: {\n            bgcolor: 'rgba(233, 30, 99, 0.9)',\n            width: 40,\n            height: 40\n          },\n          children: (user === null || user === void 0 ? void 0 : (_user$username = user.username) === null || _user$username === void 0 ? void 0 : (_user$username$ = _user$username[0]) === null || _user$username$ === void 0 ? void 0 : _user$username$.toUpperCase()) || 'U'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h6\",\n          sx: {\n            color: '#FFFFFF',\n            fontWeight: 600\n          },\n          children: (user === null || user === void 0 ? void 0 : user.username) || 'User'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n        onClick: handleMenuClick,\n        sx: {\n          color: '#FFFFFF',\n          '&:hover': {\n            bgcolor: 'rgba(233, 30, 99, 0.1)'\n          }\n        },\n        children: /*#__PURE__*/_jsxDEV(MoreVertIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Menu, {\n        anchorEl: anchorEl,\n        open: Boolean(anchorEl),\n        onClose: handleMenuClose,\n        sx: {\n          '& .MuiPaper-root': {\n            bgcolor: 'rgba(45, 45, 45, 0.95)',\n            backdropFilter: 'blur(10px)',\n            border: '1px solid rgba(233, 30, 99, 0.2)'\n          }\n        },\n        children: /*#__PURE__*/_jsxDEV(MenuItem, {\n          onClick: handleLogout,\n          sx: {\n            color: '#FFFFFF',\n            '&:hover': {\n              bgcolor: 'rgba(233, 30, 99, 0.1)'\n            }\n          },\n          children: [/*#__PURE__*/_jsxDEV(LogoutIcon, {\n            sx: {\n              mr: 1\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 25\n          }, this), \"Logout\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        flex: 1,\n        overflow: 'auto',\n        p: 2,\n        display: 'flex',\n        flexDirection: 'column',\n        gap: 2\n      },\n      children: [messages.map((message, index) => /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          justifyContent: message.role === 'user' ? 'flex-end' : 'flex-start',\n          mb: 2\n        },\n        children: /*#__PURE__*/_jsxDEV(Paper, {\n          elevation: 3,\n          sx: {\n            p: 2,\n            maxWidth: '70%',\n            bgcolor: message.role === 'user' ? 'rgba(233, 30, 99, 0.9)' : 'rgba(33, 150, 243, 0.9)',\n            color: 'white',\n            borderRadius: 2,\n            position: 'relative',\n            '&::before': {\n              content: '\"\"',\n              position: 'absolute',\n              top: 0,\n              left: 0,\n              right: 0,\n              bottom: 0,\n              background: 'linear-gradient(45deg, rgba(255,255,255,0.1) 0%, transparent 100%)',\n              borderRadius: 'inherit',\n              pointerEvents: 'none'\n            }\n          },\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            sx: {\n              whiteSpace: 'pre-wrap',\n              wordBreak: 'break-word',\n              fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n              fontSize: '1rem',\n              lineHeight: 1.6\n            },\n            children: message.content\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 25\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 21\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: messagesEndRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 370,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      component: \"form\",\n      onSubmit: handleSubmit,\n      sx: {\n        p: 2,\n        bgcolor: 'rgba(45, 45, 45, 0.95)',\n        borderTop: '1px solid rgba(233, 30, 99, 0.2)',\n        display: 'flex',\n        gap: 1\n      },\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        fullWidth: true,\n        value: input,\n        onChange: e => setInput(e.target.value),\n        placeholder: \"Type your message...\",\n        variant: \"outlined\",\n        disabled: isLoading,\n        sx: {\n          '& .MuiOutlinedInput-root': {\n            bgcolor: 'rgba(255, 255, 255, 0.05)',\n            color: '#FFFFFF',\n            '& fieldset': {\n              borderColor: 'rgba(233, 30, 99, 0.3)'\n            },\n            '&:hover fieldset': {\n              borderColor: 'rgba(233, 30, 99, 0.5)'\n            },\n            '&.Mui-focused fieldset': {\n              borderColor: '#E91E63'\n            }\n          },\n          '& .MuiInputBase-input': {\n            color: '#FFFFFF',\n            fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n            fontSize: '1rem'\n          },\n          '& .MuiInputLabel-root': {\n            color: 'rgba(255, 255, 255, 0.7)'\n          }\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n        type: \"submit\",\n        disabled: isLoading || !input.trim(),\n        sx: {\n          bgcolor: 'rgba(233, 30, 99, 0.9)',\n          color: 'white',\n          '&:hover': {\n            bgcolor: 'rgba(233, 30, 99, 1)'\n          },\n          '&.Mui-disabled': {\n            bgcolor: 'rgba(233, 30, 99, 0.3)',\n            color: 'rgba(255, 255, 255, 0.3)'\n          }\n        },\n        children: isLoading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n          size: 24,\n          color: \"inherit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 34\n        }, this) : /*#__PURE__*/_jsxDEV(SendIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 83\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n        onClick: handleVoiceInput,\n        sx: {\n          bgcolor: isRecording ? 'rgba(233, 30, 99, 0.9)' : 'rgba(33, 150, 243, 0.9)',\n          color: 'white',\n          '&:hover': {\n            bgcolor: isRecording ? 'rgba(233, 30, 99, 1)' : 'rgba(33, 150, 243, 1)'\n          }\n        },\n        children: /*#__PURE__*/_jsxDEV(MicIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 221,\n    columnNumber: 9\n  }, this);\n};\n_s(ChatInterface, \"ChNMRG5Z+erxxnthyJyBvPFZLHA=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = ChatInterface;\nexport default ChatInterface;\nvar _c;\n$RefreshReg$(_c, \"ChatInterface\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","Box","TextField","IconButton","Paper","Typography","CircularProgress","Button","Menu","MenuItem","Avatar","SendIcon","MicIcon","MoreVertIcon","LogoutIcon","useAuth","useNavigate","jsxDEV","_jsxDEV","ChatInterface","_s","_user$username","_user$username$","messages","setMessages","input","setInput","isLoading","setIsLoading","isRecording","setIsRecording","anchorEl","setAnchorEl","messagesEndRef","recognitionRef","user","logout","navigate","window","current","webkitSpeechRecognition","continuous","interimResults","lang","onresult","event","transcript","results","onend","trim","handleSubmit","Event","stop","scrollToBottom","_messagesEndRef$curre","scrollIntoView","behavior","handleSendMessage","messageContent","userMessage","role","content","prev","response","fetch","method","headers","body","JSON","stringify","message","credentials","ok","data","json","botMessage","Error","error","console","e","preventDefault","currentInput","handleVoiceInput","alert","start","handleMenuClick","currentTarget","handleMenuClose","handleLogout","loadChatHistory","length","welcomeMessage","username","sx","height","display","flexDirection","bgcolor","background","backgroundSize","backgroundPosition","position","top","left","right","bottom","pointerEvents","children","p","alignItems","justifyContent","borderBottom","gap","width","toUpperCase","fileName","_jsxFileName","lineNumber","columnNumber","variant","color","fontWeight","onClick","open","Boolean","onClose","backdropFilter","border","mr","flex","overflow","map","index","mb","elevation","maxWidth","borderRadius","whiteSpace","wordBreak","fontFamily","fontSize","lineHeight","ref","component","onSubmit","borderTop","fullWidth","value","onChange","target","placeholder","disabled","borderColor","type","size","_c","$RefreshReg$"],"sources":["C:/Users/singh/Dropbox/CODING/EcommerceChatbot/frontend/src/components/ChatInterface.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport {\r\n    Box,\r\n    TextField,\r\n    IconButton,\r\n    Paper,\r\n    Typography,\r\n    CircularProgress,\r\n    Button,\r\n    Menu,\r\n    MenuItem,\r\n    Avatar,\r\n} from '@mui/material';\r\nimport SendIcon from '@mui/icons-material/Send';\r\nimport MicIcon from '@mui/icons-material/Mic';\r\nimport MoreVertIcon from '@mui/icons-material/MoreVert';\r\nimport LogoutIcon from '@mui/icons-material/Logout';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst ChatInterface = () => {\r\n    const [messages, setMessages] = useState([]);\r\n    const [input, setInput] = useState('');\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [isRecording, setIsRecording] = useState(false);\r\n    const [anchorEl, setAnchorEl] = useState(null);\r\n    const messagesEndRef = useRef(null);\r\n    const recognitionRef = useRef(null);\r\n    const { user, logout } = useAuth();\r\n    const navigate = useNavigate();\r\n\r\n    // Initialize speech recognition\r\n    useEffect(() => {\r\n        if ('webkitSpeechRecognition' in window) {\r\n            recognitionRef.current = new window.webkitSpeechRecognition();\r\n            recognitionRef.current.continuous = false;\r\n            recognitionRef.current.interimResults = false;\r\n            recognitionRef.current.lang = 'en-US';\r\n\r\n            recognitionRef.current.onresult = (event) => {\r\n                const transcript = event.results[0][0].transcript;\r\n                setInput(transcript);\r\n            };\r\n\r\n            recognitionRef.current.onend = () => {\r\n                setIsRecording(false);\r\n                if (input.trim()) {\r\n                    handleSubmit(new Event('submit'));\r\n                }\r\n            };\r\n        }\r\n\r\n        return () => {\r\n            if (recognitionRef.current) {\r\n                recognitionRef.current.stop();\r\n            }\r\n        };\r\n    }, [input]);\r\n\r\n    const scrollToBottom = useCallback(() => {\r\n        messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        scrollToBottom();\r\n    }, [messages, scrollToBottom]);\r\n\r\n    const handleSendMessage = useCallback(async (messageContent) => {\r\n        if (!messageContent.trim()) return;\r\n\r\n        const userMessage = {\r\n            role: 'user',\r\n            content: messageContent.trim()\r\n        };\r\n\r\n        setMessages(prev => [...prev, userMessage]);\r\n        setIsLoading(true);\r\n\r\n        try {\r\n            const response = await fetch('http://localhost:5000/api/chat', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({ message: userMessage.content }),\r\n                credentials: 'include'\r\n            });\r\n\r\n            if (response.ok) {\r\n                const data = await response.json();\r\n                const botMessage = {\r\n                    role: 'assistant',\r\n                    content: data.response\r\n                };\r\n                setMessages(prev => [...prev, botMessage]);\r\n            } else {\r\n                throw new Error('Failed to get response');\r\n            }\r\n        } catch (error) {\r\n            console.error('Error:', error);\r\n            setMessages(prev => [...prev, {\r\n                role: 'assistant',\r\n                content: 'Sorry, I encountered an error. Please try again.'\r\n            }]);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    }, []);\r\n\r\n    const handleSubmit = useCallback(async (e) => {\r\n        e.preventDefault();\r\n        if (!input.trim()) return;\r\n        \r\n        const currentInput = input;\r\n        setInput('');\r\n        await handleSendMessage(currentInput);\r\n    }, [input, handleSendMessage]);\r\n\r\n    const handleVoiceInput = useCallback(() => {\r\n        if (!recognitionRef.current) {\r\n            alert('Speech recognition is not supported in your browser.');\r\n            return;\r\n        }\r\n\r\n        if (isRecording) {\r\n            recognitionRef.current.stop();\r\n        } else {\r\n            setInput('');\r\n            recognitionRef.current.start();\r\n            setIsRecording(true);\r\n        }\r\n    }, [isRecording]);\r\n\r\n    const handleMenuClick = (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleMenuClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    const handleLogout = async () => {\r\n        try {\r\n            await logout();\r\n            navigate('/login');\r\n        } catch (error) {\r\n            console.error('Logout failed:', error);\r\n        }\r\n    };\r\n\r\n    // Load chat history when component mounts\r\n    useEffect(() => {\r\n        const loadChatHistory = async () => {\r\n            try {\r\n                setMessages([]);\r\n                \r\n                const response = await fetch('http://localhost:5000/api/chat/history', {\r\n                    credentials: 'include'\r\n                });\r\n                \r\n                if (response.ok) {\r\n                    const data = await response.json();\r\n                    if (data.messages && data.messages.length > 0) {\r\n                        setMessages(data.messages);\r\n                    } else {\r\n                        const welcomeMessage = {\r\n                            role: 'assistant',\r\n                            content: `üåü Welcome ${user?.username || 'there'} to the Sales Chatbot! üåü\\n\\n` +\r\n                                'I\\'m your AI-powered shopping assistant, ready to help you manage your products efficiently.\\n\\n' +\r\n                                'üéØ Here\\'s what I can do for you:\\n\\n' +\r\n                                'üì¶ Product Management:\\n' +\r\n                                '   ‚Ä¢ Add new products\\n' +\r\n                                '   ‚Ä¢ Update existing products\\n' +\r\n                                '   ‚Ä¢ Remove products\\n' +\r\n                                '   ‚Ä¢ View all products\\n\\n' +\r\n                                'üîç Search & Filter:\\n' +\r\n                                '   ‚Ä¢ Search by product name\\n' +\r\n                                '   ‚Ä¢ Filter by category\\n' +\r\n                                '   ‚Ä¢ View product details\\n\\n' +\r\n                                'üé§ Voice Commands:\\n' +\r\n                                '   ‚Ä¢ Click the microphone icon\\n' +\r\n                                '   ‚Ä¢ Speak your command clearly\\n' +\r\n                                '   ‚Ä¢ Click again to stop\\n\\n' +\r\n                                'üí° Quick Tips:\\n' +\r\n                                '   ‚Ä¢ Use clear, specific commands\\n' +\r\n                                '   ‚Ä¢ Prices should be numbers\\n' +\r\n                                '   ‚Ä¢ Stock should be whole numbers\\n' +\r\n                                '   ‚Ä¢ Categories help organize products\\n\\n' +\r\n                                'üìù Example Commands:\\n' +\r\n                                '   ‚Ä¢ \"Add product: laptop, 999.99, 10, electronics\"\\n' +\r\n                                '   ‚Ä¢ \"Update product: laptop, price, 899.99\"\\n' +\r\n                                '   ‚Ä¢ \"Search laptop\"\\n' +\r\n                                '   ‚Ä¢ \"Show all products\"\\n\\n' +\r\n                                'How can I assist you today? üòä'\r\n                        };\r\n                        setMessages([welcomeMessage]);\r\n                        await handleSendMessage(welcomeMessage.content);\r\n                    }\r\n                } else {\r\n                    const welcomeMessage = {\r\n                        role: 'assistant',\r\n                        content: `üåü Welcome ${user?.username || 'there'} to the Sales Chatbot! üåü\\n\\n` +\r\n                            'I\\'m your AI-powered shopping assistant. How can I help you today?'\r\n                    };\r\n                    setMessages([welcomeMessage]);\r\n                }\r\n            } catch (error) {\r\n                console.error('Error loading chat history:', error);\r\n                setMessages([{\r\n                    role: 'assistant',\r\n                    content: `üåü Welcome ${user?.username || 'there'} to the Sales Chatbot! üåü\\n\\n` +\r\n                        'I\\'m your AI-powered shopping assistant. How can I help you today?'\r\n                }]);\r\n            }\r\n        };\r\n\r\n        loadChatHistory();\r\n    }, [user, handleSendMessage]);\r\n\r\n    return (\r\n        <Box\r\n            sx={{\r\n                height: '100vh',\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                bgcolor: '#1A1A1A',\r\n                background: 'linear-gradient(135deg, rgba(26, 26, 26, 0.9) 0%, rgba(45, 45, 45, 0.9) 100%), url(\"https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80\")',\r\n                backgroundSize: 'cover',\r\n                backgroundPosition: 'center',\r\n                position: 'relative',\r\n                '&::before': {\r\n                    content: '\"\"',\r\n                    position: 'absolute',\r\n                    top: 0,\r\n                    left: 0,\r\n                    right: 0,\r\n                    bottom: 0,\r\n                    background: 'radial-gradient(circle at center, rgba(233, 30, 99, 0.1) 0%, rgba(33, 150, 243, 0.1) 100%)',\r\n                    pointerEvents: 'none',\r\n                },\r\n            }}\r\n        >\r\n            {/* Header */}\r\n            <Box\r\n                sx={{\r\n                    p: 2,\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'space-between',\r\n                    bgcolor: 'rgba(45, 45, 45, 0.95)',\r\n                    borderBottom: '1px solid rgba(233, 30, 99, 0.2)',\r\n                }}\r\n            >\r\n                <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\r\n                    <Avatar\r\n                        sx={{\r\n                            bgcolor: 'rgba(233, 30, 99, 0.9)',\r\n                            width: 40,\r\n                            height: 40,\r\n                        }}\r\n                    >\r\n                        {user?.username?.[0]?.toUpperCase() || 'U'}\r\n                    </Avatar>\r\n                    <Typography\r\n                        variant=\"h6\"\r\n                        sx={{\r\n                            color: '#FFFFFF',\r\n                            fontWeight: 600,\r\n                        }}\r\n                    >\r\n                        {user?.username || 'User'}\r\n                    </Typography>\r\n                </Box>\r\n                <IconButton\r\n                    onClick={handleMenuClick}\r\n                    sx={{\r\n                        color: '#FFFFFF',\r\n                        '&:hover': {\r\n                            bgcolor: 'rgba(233, 30, 99, 0.1)',\r\n                        },\r\n                    }}\r\n                >\r\n                    <MoreVertIcon />\r\n                </IconButton>\r\n                <Menu\r\n                    anchorEl={anchorEl}\r\n                    open={Boolean(anchorEl)}\r\n                    onClose={handleMenuClose}\r\n                    sx={{\r\n                        '& .MuiPaper-root': {\r\n                            bgcolor: 'rgba(45, 45, 45, 0.95)',\r\n                            backdropFilter: 'blur(10px)',\r\n                            border: '1px solid rgba(233, 30, 99, 0.2)',\r\n                        },\r\n                    }}\r\n                >\r\n                    <MenuItem\r\n                        onClick={handleLogout}\r\n                        sx={{\r\n                            color: '#FFFFFF',\r\n                            '&:hover': {\r\n                                bgcolor: 'rgba(233, 30, 99, 0.1)',\r\n                            },\r\n                        }}\r\n                    >\r\n                        <LogoutIcon sx={{ mr: 1 }} />\r\n                        Logout\r\n                    </MenuItem>\r\n                </Menu>\r\n            </Box>\r\n\r\n            {/* Chat Messages */}\r\n            <Box\r\n                sx={{\r\n                    flex: 1,\r\n                    overflow: 'auto',\r\n                    p: 2,\r\n                    display: 'flex',\r\n                    flexDirection: 'column',\r\n                    gap: 2,\r\n                }}\r\n            >\r\n                {messages.map((message, index) => (\r\n                    <Box\r\n                        key={index}\r\n                        sx={{\r\n                            display: 'flex',\r\n                            justifyContent: message.role === 'user' ? 'flex-end' : 'flex-start',\r\n                            mb: 2,\r\n                        }}\r\n                    >\r\n                        <Paper\r\n                            elevation={3}\r\n                            sx={{\r\n                                p: 2,\r\n                                maxWidth: '70%',\r\n                                bgcolor: message.role === 'user' \r\n                                    ? 'rgba(233, 30, 99, 0.9)' \r\n                                    : 'rgba(33, 150, 243, 0.9)',\r\n                                color: 'white',\r\n                                borderRadius: 2,\r\n                                position: 'relative',\r\n                                '&::before': {\r\n                                    content: '\"\"',\r\n                                    position: 'absolute',\r\n                                    top: 0,\r\n                                    left: 0,\r\n                                    right: 0,\r\n                                    bottom: 0,\r\n                                    background: 'linear-gradient(45deg, rgba(255,255,255,0.1) 0%, transparent 100%)',\r\n                                    borderRadius: 'inherit',\r\n                                    pointerEvents: 'none',\r\n                                },\r\n                            }}\r\n                        >\r\n                            <Typography\r\n                                sx={{\r\n                                    whiteSpace: 'pre-wrap',\r\n                                    wordBreak: 'break-word',\r\n                                    fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\r\n                                    fontSize: '1rem',\r\n                                    lineHeight: 1.6,\r\n                                }}\r\n                            >\r\n                                {message.content}\r\n                            </Typography>\r\n                        </Paper>\r\n                    </Box>\r\n                ))}\r\n                <div ref={messagesEndRef} />\r\n            </Box>\r\n\r\n            {/* Input Area */}\r\n            <Box\r\n                component=\"form\"\r\n                onSubmit={handleSubmit}\r\n                sx={{\r\n                    p: 2,\r\n                    bgcolor: 'rgba(45, 45, 45, 0.95)',\r\n                    borderTop: '1px solid rgba(233, 30, 99, 0.2)',\r\n                    display: 'flex',\r\n                    gap: 1,\r\n                }}\r\n            >\r\n                <TextField\r\n                    fullWidth\r\n                    value={input}\r\n                    onChange={(e) => setInput(e.target.value)}\r\n                    placeholder=\"Type your message...\"\r\n                    variant=\"outlined\"\r\n                    disabled={isLoading}\r\n                    sx={{\r\n                        '& .MuiOutlinedInput-root': {\r\n                            bgcolor: 'rgba(255, 255, 255, 0.05)',\r\n                            color: '#FFFFFF',\r\n                            '& fieldset': {\r\n                                borderColor: 'rgba(233, 30, 99, 0.3)',\r\n                            },\r\n                            '&:hover fieldset': {\r\n                                borderColor: 'rgba(233, 30, 99, 0.5)',\r\n                            },\r\n                            '&.Mui-focused fieldset': {\r\n                                borderColor: '#E91E63',\r\n                            },\r\n                        },\r\n                        '& .MuiInputBase-input': {\r\n                            color: '#FFFFFF',\r\n                            fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\r\n                            fontSize: '1rem',\r\n                        },\r\n                        '& .MuiInputLabel-root': {\r\n                            color: 'rgba(255, 255, 255, 0.7)',\r\n                        },\r\n                    }}\r\n                />\r\n                <IconButton\r\n                    type=\"submit\"\r\n                    disabled={isLoading || !input.trim()}\r\n                    sx={{\r\n                        bgcolor: 'rgba(233, 30, 99, 0.9)',\r\n                        color: 'white',\r\n                        '&:hover': {\r\n                            bgcolor: 'rgba(233, 30, 99, 1)',\r\n                        },\r\n                        '&.Mui-disabled': {\r\n                            bgcolor: 'rgba(233, 30, 99, 0.3)',\r\n                            color: 'rgba(255, 255, 255, 0.3)',\r\n                        },\r\n                    }}\r\n                >\r\n                    {isLoading ? <CircularProgress size={24} color=\"inherit\" /> : <SendIcon />}\r\n                </IconButton>\r\n                <IconButton\r\n                    onClick={handleVoiceInput}\r\n                    sx={{\r\n                        bgcolor: isRecording ? 'rgba(233, 30, 99, 0.9)' : 'rgba(33, 150, 243, 0.9)',\r\n                        color: 'white',\r\n                        '&:hover': {\r\n                            bgcolor: isRecording ? 'rgba(233, 30, 99, 1)' : 'rgba(33, 150, 243, 1)',\r\n                        },\r\n                    }}\r\n                >\r\n                    <MicIcon />\r\n                </IconButton>\r\n            </Box>\r\n        </Box>\r\n    );\r\n};\r\n\r\nexport default ChatInterface; "],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,EAAEC,WAAW,QAAQ,OAAO;AACvE,SACIC,GAAG,EACHC,SAAS,EACTC,UAAU,EACVC,KAAK,EACLC,UAAU,EACVC,gBAAgB,EAChBC,MAAM,EACNC,IAAI,EACJC,QAAQ,EACRC,MAAM,QACH,eAAe;AACtB,OAAOC,QAAQ,MAAM,0BAA0B;AAC/C,OAAOC,OAAO,MAAM,yBAAyB;AAC7C,OAAOC,YAAY,MAAM,8BAA8B;AACvD,OAAOC,UAAU,MAAM,4BAA4B;AACnD,SAASC,OAAO,QAAQ,yBAAyB;AACjD,SAASC,WAAW,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/C,MAAMC,aAAa,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAAA,IAAAC,cAAA,EAAAC,eAAA;EACxB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAG3B,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAAC4B,KAAK,EAAEC,QAAQ,CAAC,GAAG7B,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAAC8B,SAAS,EAAEC,YAAY,CAAC,GAAG/B,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACgC,WAAW,EAAEC,cAAc,CAAC,GAAGjC,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACkC,QAAQ,EAAEC,WAAW,CAAC,GAAGnC,QAAQ,CAAC,IAAI,CAAC;EAC9C,MAAMoC,cAAc,GAAGlC,MAAM,CAAC,IAAI,CAAC;EACnC,MAAMmC,cAAc,GAAGnC,MAAM,CAAC,IAAI,CAAC;EACnC,MAAM;IAAEoC,IAAI;IAAEC;EAAO,CAAC,GAAGrB,OAAO,CAAC,CAAC;EAClC,MAAMsB,QAAQ,GAAGrB,WAAW,CAAC,CAAC;;EAE9B;EACAlB,SAAS,CAAC,MAAM;IACZ,IAAI,yBAAyB,IAAIwC,MAAM,EAAE;MACrCJ,cAAc,CAACK,OAAO,GAAG,IAAID,MAAM,CAACE,uBAAuB,CAAC,CAAC;MAC7DN,cAAc,CAACK,OAAO,CAACE,UAAU,GAAG,KAAK;MACzCP,cAAc,CAACK,OAAO,CAACG,cAAc,GAAG,KAAK;MAC7CR,cAAc,CAACK,OAAO,CAACI,IAAI,GAAG,OAAO;MAErCT,cAAc,CAACK,OAAO,CAACK,QAAQ,GAAIC,KAAK,IAAK;QACzC,MAAMC,UAAU,GAAGD,KAAK,CAACE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAACD,UAAU;QACjDpB,QAAQ,CAACoB,UAAU,CAAC;MACxB,CAAC;MAEDZ,cAAc,CAACK,OAAO,CAACS,KAAK,GAAG,MAAM;QACjClB,cAAc,CAAC,KAAK,CAAC;QACrB,IAAIL,KAAK,CAACwB,IAAI,CAAC,CAAC,EAAE;UACdC,YAAY,CAAC,IAAIC,KAAK,CAAC,QAAQ,CAAC,CAAC;QACrC;MACJ,CAAC;IACL;IAEA,OAAO,MAAM;MACT,IAAIjB,cAAc,CAACK,OAAO,EAAE;QACxBL,cAAc,CAACK,OAAO,CAACa,IAAI,CAAC,CAAC;MACjC;IACJ,CAAC;EACL,CAAC,EAAE,CAAC3B,KAAK,CAAC,CAAC;EAEX,MAAM4B,cAAc,GAAGrD,WAAW,CAAC,MAAM;IAAA,IAAAsD,qBAAA;IACrC,CAAAA,qBAAA,GAAArB,cAAc,CAACM,OAAO,cAAAe,qBAAA,uBAAtBA,qBAAA,CAAwBC,cAAc,CAAC;MAAEC,QAAQ,EAAE;IAAS,CAAC,CAAC;EAClE,CAAC,EAAE,EAAE,CAAC;EAEN1D,SAAS,CAAC,MAAM;IACZuD,cAAc,CAAC,CAAC;EACpB,CAAC,EAAE,CAAC9B,QAAQ,EAAE8B,cAAc,CAAC,CAAC;EAE9B,MAAMI,iBAAiB,GAAGzD,WAAW,CAAC,MAAO0D,cAAc,IAAK;IAC5D,IAAI,CAACA,cAAc,CAACT,IAAI,CAAC,CAAC,EAAE;IAE5B,MAAMU,WAAW,GAAG;MAChBC,IAAI,EAAE,MAAM;MACZC,OAAO,EAAEH,cAAc,CAACT,IAAI,CAAC;IACjC,CAAC;IAEDzB,WAAW,CAACsC,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAEH,WAAW,CAAC,CAAC;IAC3C/B,YAAY,CAAC,IAAI,CAAC;IAElB,IAAI;MACA,MAAMmC,QAAQ,GAAG,MAAMC,KAAK,CAAC,gCAAgC,EAAE;QAC3DC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACL,cAAc,EAAE;QACpB,CAAC;QACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAEC,OAAO,EAAEX,WAAW,CAACE;QAAQ,CAAC,CAAC;QACtDU,WAAW,EAAE;MACjB,CAAC,CAAC;MAEF,IAAIR,QAAQ,CAACS,EAAE,EAAE;QACb,MAAMC,IAAI,GAAG,MAAMV,QAAQ,CAACW,IAAI,CAAC,CAAC;QAClC,MAAMC,UAAU,GAAG;UACff,IAAI,EAAE,WAAW;UACjBC,OAAO,EAAEY,IAAI,CAACV;QAClB,CAAC;QACDvC,WAAW,CAACsC,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAEa,UAAU,CAAC,CAAC;MAC9C,CAAC,MAAM;QACH,MAAM,IAAIC,KAAK,CAAC,wBAAwB,CAAC;MAC7C;IACJ,CAAC,CAAC,OAAOC,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,QAAQ,EAAEA,KAAK,CAAC;MAC9BrD,WAAW,CAACsC,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAE;QAC1BF,IAAI,EAAE,WAAW;QACjBC,OAAO,EAAE;MACb,CAAC,CAAC,CAAC;IACP,CAAC,SAAS;MACNjC,YAAY,CAAC,KAAK,CAAC;IACvB;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMsB,YAAY,GAAGlD,WAAW,CAAC,MAAO+E,CAAC,IAAK;IAC1CA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,IAAI,CAACvD,KAAK,CAACwB,IAAI,CAAC,CAAC,EAAE;IAEnB,MAAMgC,YAAY,GAAGxD,KAAK;IAC1BC,QAAQ,CAAC,EAAE,CAAC;IACZ,MAAM+B,iBAAiB,CAACwB,YAAY,CAAC;EACzC,CAAC,EAAE,CAACxD,KAAK,EAAEgC,iBAAiB,CAAC,CAAC;EAE9B,MAAMyB,gBAAgB,GAAGlF,WAAW,CAAC,MAAM;IACvC,IAAI,CAACkC,cAAc,CAACK,OAAO,EAAE;MACzB4C,KAAK,CAAC,sDAAsD,CAAC;MAC7D;IACJ;IAEA,IAAItD,WAAW,EAAE;MACbK,cAAc,CAACK,OAAO,CAACa,IAAI,CAAC,CAAC;IACjC,CAAC,MAAM;MACH1B,QAAQ,CAAC,EAAE,CAAC;MACZQ,cAAc,CAACK,OAAO,CAAC6C,KAAK,CAAC,CAAC;MAC9BtD,cAAc,CAAC,IAAI,CAAC;IACxB;EACJ,CAAC,EAAE,CAACD,WAAW,CAAC,CAAC;EAEjB,MAAMwD,eAAe,GAAIxC,KAAK,IAAK;IAC/Bb,WAAW,CAACa,KAAK,CAACyC,aAAa,CAAC;EACpC,CAAC;EAED,MAAMC,eAAe,GAAGA,CAAA,KAAM;IAC1BvD,WAAW,CAAC,IAAI,CAAC;EACrB,CAAC;EAED,MAAMwD,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC7B,IAAI;MACA,MAAMpD,MAAM,CAAC,CAAC;MACdC,QAAQ,CAAC,QAAQ,CAAC;IACtB,CAAC,CAAC,OAAOwC,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAAC;IAC1C;EACJ,CAAC;;EAED;EACA/E,SAAS,CAAC,MAAM;IACZ,MAAM2F,eAAe,GAAG,MAAAA,CAAA,KAAY;MAChC,IAAI;QACAjE,WAAW,CAAC,EAAE,CAAC;QAEf,MAAMuC,QAAQ,GAAG,MAAMC,KAAK,CAAC,wCAAwC,EAAE;UACnEO,WAAW,EAAE;QACjB,CAAC,CAAC;QAEF,IAAIR,QAAQ,CAACS,EAAE,EAAE;UACb,MAAMC,IAAI,GAAG,MAAMV,QAAQ,CAACW,IAAI,CAAC,CAAC;UAClC,IAAID,IAAI,CAAClD,QAAQ,IAAIkD,IAAI,CAAClD,QAAQ,CAACmE,MAAM,GAAG,CAAC,EAAE;YAC3ClE,WAAW,CAACiD,IAAI,CAAClD,QAAQ,CAAC;UAC9B,CAAC,MAAM;YACH,MAAMoE,cAAc,GAAG;cACnB/B,IAAI,EAAE,WAAW;cACjBC,OAAO,EAAE,cAAc,CAAA1B,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEyD,QAAQ,KAAI,OAAO,+BAA+B,GAC3E,kGAAkG,GAClG,uCAAuC,GACvC,0BAA0B,GAC1B,yBAAyB,GACzB,iCAAiC,GACjC,wBAAwB,GACxB,4BAA4B,GAC5B,uBAAuB,GACvB,+BAA+B,GAC/B,2BAA2B,GAC3B,+BAA+B,GAC/B,sBAAsB,GACtB,kCAAkC,GAClC,mCAAmC,GACnC,8BAA8B,GAC9B,kBAAkB,GAClB,qCAAqC,GACrC,iCAAiC,GACjC,sCAAsC,GACtC,4CAA4C,GAC5C,wBAAwB,GACxB,uDAAuD,GACvD,gDAAgD,GAChD,wBAAwB,GACxB,8BAA8B,GAC9B;YACR,CAAC;YACDpE,WAAW,CAAC,CAACmE,cAAc,CAAC,CAAC;YAC7B,MAAMlC,iBAAiB,CAACkC,cAAc,CAAC9B,OAAO,CAAC;UACnD;QACJ,CAAC,MAAM;UACH,MAAM8B,cAAc,GAAG;YACnB/B,IAAI,EAAE,WAAW;YACjBC,OAAO,EAAE,cAAc,CAAA1B,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEyD,QAAQ,KAAI,OAAO,+BAA+B,GAC3E;UACR,CAAC;UACDpE,WAAW,CAAC,CAACmE,cAAc,CAAC,CAAC;QACjC;MACJ,CAAC,CAAC,OAAOd,KAAK,EAAE;QACZC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;QACnDrD,WAAW,CAAC,CAAC;UACToC,IAAI,EAAE,WAAW;UACjBC,OAAO,EAAE,cAAc,CAAA1B,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEyD,QAAQ,KAAI,OAAO,+BAA+B,GAC3E;QACR,CAAC,CAAC,CAAC;MACP;IACJ,CAAC;IAEDH,eAAe,CAAC,CAAC;EACrB,CAAC,EAAE,CAACtD,IAAI,EAAEsB,iBAAiB,CAAC,CAAC;EAE7B,oBACIvC,OAAA,CAACjB,GAAG;IACA4F,EAAE,EAAE;MACAC,MAAM,EAAE,OAAO;MACfC,OAAO,EAAE,MAAM;MACfC,aAAa,EAAE,QAAQ;MACvBC,OAAO,EAAE,SAAS;MAClBC,UAAU,EAAE,2PAA2P;MACvQC,cAAc,EAAE,OAAO;MACvBC,kBAAkB,EAAE,QAAQ;MAC5BC,QAAQ,EAAE,UAAU;MACpB,WAAW,EAAE;QACTxC,OAAO,EAAE,IAAI;QACbwC,QAAQ,EAAE,UAAU;QACpBC,GAAG,EAAE,CAAC;QACNC,IAAI,EAAE,CAAC;QACPC,KAAK,EAAE,CAAC;QACRC,MAAM,EAAE,CAAC;QACTP,UAAU,EAAE,4FAA4F;QACxGQ,aAAa,EAAE;MACnB;IACJ,CAAE;IAAAC,QAAA,gBAGFzF,OAAA,CAACjB,GAAG;MACA4F,EAAE,EAAE;QACAe,CAAC,EAAE,CAAC;QACJb,OAAO,EAAE,MAAM;QACfc,UAAU,EAAE,QAAQ;QACpBC,cAAc,EAAE,eAAe;QAC/Bb,OAAO,EAAE,wBAAwB;QACjCc,YAAY,EAAE;MAClB,CAAE;MAAAJ,QAAA,gBAEFzF,OAAA,CAACjB,GAAG;QAAC4F,EAAE,EAAE;UAAEE,OAAO,EAAE,MAAM;UAAEc,UAAU,EAAE,QAAQ;UAAEG,GAAG,EAAE;QAAE,CAAE;QAAAL,QAAA,gBACvDzF,OAAA,CAACR,MAAM;UACHmF,EAAE,EAAE;YACAI,OAAO,EAAE,wBAAwB;YACjCgB,KAAK,EAAE,EAAE;YACTnB,MAAM,EAAE;UACZ,CAAE;UAAAa,QAAA,EAED,CAAAxE,IAAI,aAAJA,IAAI,wBAAAd,cAAA,GAAJc,IAAI,CAAEyD,QAAQ,cAAAvE,cAAA,wBAAAC,eAAA,GAAdD,cAAA,CAAiB,CAAC,CAAC,cAAAC,eAAA,uBAAnBA,eAAA,CAAqB4F,WAAW,CAAC,CAAC,KAAI;QAAG;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACtC,CAAC,eACTpG,OAAA,CAACb,UAAU;UACPkH,OAAO,EAAC,IAAI;UACZ1B,EAAE,EAAE;YACA2B,KAAK,EAAE,SAAS;YAChBC,UAAU,EAAE;UAChB,CAAE;UAAAd,QAAA,EAED,CAAAxE,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAEyD,QAAQ,KAAI;QAAM;UAAAuB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjB,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACZ,CAAC,eACNpG,OAAA,CAACf,UAAU;QACPuH,OAAO,EAAErC,eAAgB;QACzBQ,EAAE,EAAE;UACA2B,KAAK,EAAE,SAAS;UAChB,SAAS,EAAE;YACPvB,OAAO,EAAE;UACb;QACJ,CAAE;QAAAU,QAAA,eAEFzF,OAAA,CAACL,YAAY;UAAAsG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACR,CAAC,eACbpG,OAAA,CAACV,IAAI;QACDuB,QAAQ,EAAEA,QAAS;QACnB4F,IAAI,EAAEC,OAAO,CAAC7F,QAAQ,CAAE;QACxB8F,OAAO,EAAEtC,eAAgB;QACzBM,EAAE,EAAE;UACA,kBAAkB,EAAE;YAChBI,OAAO,EAAE,wBAAwB;YACjC6B,cAAc,EAAE,YAAY;YAC5BC,MAAM,EAAE;UACZ;QACJ,CAAE;QAAApB,QAAA,eAEFzF,OAAA,CAACT,QAAQ;UACLiH,OAAO,EAAElC,YAAa;UACtBK,EAAE,EAAE;YACA2B,KAAK,EAAE,SAAS;YAChB,SAAS,EAAE;cACPvB,OAAO,EAAE;YACb;UACJ,CAAE;UAAAU,QAAA,gBAEFzF,OAAA,CAACJ,UAAU;YAAC+E,EAAE,EAAE;cAAEmC,EAAE,EAAE;YAAE;UAAE;YAAAb,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,UAEjC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAU;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACT,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,eAGNpG,OAAA,CAACjB,GAAG;MACA4F,EAAE,EAAE;QACAoC,IAAI,EAAE,CAAC;QACPC,QAAQ,EAAE,MAAM;QAChBtB,CAAC,EAAE,CAAC;QACJb,OAAO,EAAE,MAAM;QACfC,aAAa,EAAE,QAAQ;QACvBgB,GAAG,EAAE;MACT,CAAE;MAAAL,QAAA,GAEDpF,QAAQ,CAAC4G,GAAG,CAAC,CAAC7D,OAAO,EAAE8D,KAAK,kBACzBlH,OAAA,CAACjB,GAAG;QAEA4F,EAAE,EAAE;UACAE,OAAO,EAAE,MAAM;UACfe,cAAc,EAAExC,OAAO,CAACV,IAAI,KAAK,MAAM,GAAG,UAAU,GAAG,YAAY;UACnEyE,EAAE,EAAE;QACR,CAAE;QAAA1B,QAAA,eAEFzF,OAAA,CAACd,KAAK;UACFkI,SAAS,EAAE,CAAE;UACbzC,EAAE,EAAE;YACAe,CAAC,EAAE,CAAC;YACJ2B,QAAQ,EAAE,KAAK;YACftC,OAAO,EAAE3B,OAAO,CAACV,IAAI,KAAK,MAAM,GAC1B,wBAAwB,GACxB,yBAAyB;YAC/B4D,KAAK,EAAE,OAAO;YACdgB,YAAY,EAAE,CAAC;YACfnC,QAAQ,EAAE,UAAU;YACpB,WAAW,EAAE;cACTxC,OAAO,EAAE,IAAI;cACbwC,QAAQ,EAAE,UAAU;cACpBC,GAAG,EAAE,CAAC;cACNC,IAAI,EAAE,CAAC;cACPC,KAAK,EAAE,CAAC;cACRC,MAAM,EAAE,CAAC;cACTP,UAAU,EAAE,oEAAoE;cAChFsC,YAAY,EAAE,SAAS;cACvB9B,aAAa,EAAE;YACnB;UACJ,CAAE;UAAAC,QAAA,eAEFzF,OAAA,CAACb,UAAU;YACPwF,EAAE,EAAE;cACA4C,UAAU,EAAE,UAAU;cACtBC,SAAS,EAAE,YAAY;cACvBC,UAAU,EAAE,4CAA4C;cACxDC,QAAQ,EAAE,MAAM;cAChBC,UAAU,EAAE;YAChB,CAAE;YAAAlC,QAAA,EAEDrC,OAAO,CAACT;UAAO;YAAAsD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACR;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACV;MAAC,GA1CHc,KAAK;QAAAjB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OA2CT,CACR,CAAC,eACFpG,OAAA;QAAK4H,GAAG,EAAE7G;MAAe;QAAAkF,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC3B,CAAC,eAGNpG,OAAA,CAACjB,GAAG;MACA8I,SAAS,EAAC,MAAM;MAChBC,QAAQ,EAAE9F,YAAa;MACvB2C,EAAE,EAAE;QACAe,CAAC,EAAE,CAAC;QACJX,OAAO,EAAE,wBAAwB;QACjCgD,SAAS,EAAE,kCAAkC;QAC7ClD,OAAO,EAAE,MAAM;QACfiB,GAAG,EAAE;MACT,CAAE;MAAAL,QAAA,gBAEFzF,OAAA,CAAChB,SAAS;QACNgJ,SAAS;QACTC,KAAK,EAAE1H,KAAM;QACb2H,QAAQ,EAAGrE,CAAC,IAAKrD,QAAQ,CAACqD,CAAC,CAACsE,MAAM,CAACF,KAAK,CAAE;QAC1CG,WAAW,EAAC,sBAAsB;QAClC/B,OAAO,EAAC,UAAU;QAClBgC,QAAQ,EAAE5H,SAAU;QACpBkE,EAAE,EAAE;UACA,0BAA0B,EAAE;YACxBI,OAAO,EAAE,2BAA2B;YACpCuB,KAAK,EAAE,SAAS;YAChB,YAAY,EAAE;cACVgC,WAAW,EAAE;YACjB,CAAC;YACD,kBAAkB,EAAE;cAChBA,WAAW,EAAE;YACjB,CAAC;YACD,wBAAwB,EAAE;cACtBA,WAAW,EAAE;YACjB;UACJ,CAAC;UACD,uBAAuB,EAAE;YACrBhC,KAAK,EAAE,SAAS;YAChBmB,UAAU,EAAE,4CAA4C;YACxDC,QAAQ,EAAE;UACd,CAAC;UACD,uBAAuB,EAAE;YACrBpB,KAAK,EAAE;UACX;QACJ;MAAE;QAAAL,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC,eACFpG,OAAA,CAACf,UAAU;QACPsJ,IAAI,EAAC,QAAQ;QACbF,QAAQ,EAAE5H,SAAS,IAAI,CAACF,KAAK,CAACwB,IAAI,CAAC,CAAE;QACrC4C,EAAE,EAAE;UACAI,OAAO,EAAE,wBAAwB;UACjCuB,KAAK,EAAE,OAAO;UACd,SAAS,EAAE;YACPvB,OAAO,EAAE;UACb,CAAC;UACD,gBAAgB,EAAE;YACdA,OAAO,EAAE,wBAAwB;YACjCuB,KAAK,EAAE;UACX;QACJ,CAAE;QAAAb,QAAA,EAEDhF,SAAS,gBAAGT,OAAA,CAACZ,gBAAgB;UAACoJ,IAAI,EAAE,EAAG;UAAClC,KAAK,EAAC;QAAS;UAAAL,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,gBAAGpG,OAAA,CAACP,QAAQ;UAAAwG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAClE,CAAC,eACbpG,OAAA,CAACf,UAAU;QACPuH,OAAO,EAAExC,gBAAiB;QAC1BW,EAAE,EAAE;UACAI,OAAO,EAAEpE,WAAW,GAAG,wBAAwB,GAAG,yBAAyB;UAC3E2F,KAAK,EAAE,OAAO;UACd,SAAS,EAAE;YACPvB,OAAO,EAAEpE,WAAW,GAAG,sBAAsB,GAAG;UACpD;QACJ,CAAE;QAAA8E,QAAA,eAEFzF,OAAA,CAACN,OAAO;UAAAuG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACZ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEd,CAAC;AAAClG,EAAA,CA3aID,aAAa;EAAA,QAQUJ,OAAO,EACfC,WAAW;AAAA;AAAA2I,EAAA,GAT1BxI,aAAa;AA6anB,eAAeA,aAAa;AAAC,IAAAwI,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}