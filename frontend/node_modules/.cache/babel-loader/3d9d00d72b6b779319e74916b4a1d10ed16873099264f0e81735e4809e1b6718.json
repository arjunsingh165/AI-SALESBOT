{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\singh\\\\Dropbox\\\\CODING\\\\EcommerceChatbot\\\\frontend\\\\src\\\\components\\\\ChatInterface.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef, useEffect, useCallback } from 'react';\nimport { Box, TextField, Button, Paper, Typography, IconButton, CircularProgress, List, ListItem, ListItemText, Divider, AppBar, Toolbar, Menu, MenuItem } from '@mui/material';\nimport SendIcon from '@mui/icons-material/Send';\nimport MicIcon from '@mui/icons-material/Mic';\nimport StopIcon from '@mui/icons-material/Stop';\nimport LogoutIcon from '@mui/icons-material/Logout';\nimport AccountCircleIcon from '@mui/icons-material/AccountCircle';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useNavigate } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ChatInterface = () => {\n  _s();\n  const [messages, setMessages] = useState([]);\n  const [input, setInput] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [isRecording, setIsRecording] = useState(false);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const messagesEndRef = useRef(null);\n  const {\n    user,\n    logout\n  } = useAuth();\n  const navigate = useNavigate();\n  const recognitionRef = useRef(null);\n  const formatVoiceCommand = transcript => {\n    // Convert transcript to lowercase for easier matching\n    const command = transcript.toLowerCase().trim();\n\n    // Handle different command patterns\n    if (command.includes('add product') || command.includes('create product')) {\n      // Extract product details using regex\n      const pattern = /(?:add|create) product:?\\s*([^,]+),\\s*(\\d+\\.?\\d*),\\s*(\\d+),\\s*([^,]+)/i;\n      const match = command.match(pattern);\n      if (match) {\n        const [_, name, price, stock, category] = match;\n        return `Add product: ${name.trim()}, ${price}, ${stock}, ${category.trim()}`;\n      }\n    }\n    if (command.includes('update product') || command.includes('modify product')) {\n      const pattern = /(?:update|modify) product:?\\s*([^,]+),\\s*([^,]+),\\s*([^,]+)/i;\n      const match = command.match(pattern);\n      if (match) {\n        const [_, name, field, value] = match;\n        return `Update product: ${name.trim()}, ${field.trim()}, ${value.trim()}`;\n      }\n    }\n    if (command.includes('delete product') || command.includes('remove product')) {\n      const pattern = /(?:delete|remove) product:?\\s*([^,]+)/i;\n      const match = command.match(pattern);\n      if (match) {\n        return `Delete product: ${match[1].trim()}`;\n      }\n    }\n    if (command.includes('search')) {\n      const pattern = /search\\s+(.+)/i;\n      const match = command.match(pattern);\n      if (match) {\n        return `Search ${match[1].trim()}`;\n      }\n    }\n    if (command.includes('category')) {\n      const pattern = /category\\s+(.+)/i;\n      const match = command.match(pattern);\n      if (match) {\n        return `Category ${match[1].trim()}`;\n      }\n    }\n    if (command.includes('show all') || command.includes('list all')) {\n      return 'Show all products';\n    }\n\n    // If no specific command pattern is matched, return the original transcript\n    return command;\n  };\n  const scrollToBottom = useCallback(() => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  }, []);\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages, scrollToBottom]);\n  const handleMenuClick = event => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleMenuClose = () => {\n    setAnchorEl(null);\n  };\n  const handleLogout = async () => {\n    try {\n      await logout();\n      navigate('/login');\n    } catch (error) {\n      console.error('Logout failed:', error);\n    }\n  };\n  const handleSendMessage = useCallback(async messageContent => {\n    if (!messageContent.trim()) return;\n    const userMessage = {\n      role: 'user',\n      content: messageContent.trim()\n    };\n    setMessages(prev => [...prev, userMessage]);\n    setLoading(true);\n    try {\n      const response = await fetch('http://localhost:5000/api/chat', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          message: userMessage.content\n        }),\n        credentials: 'include'\n      });\n      if (response.ok) {\n        const data = await response.json();\n        const botMessage = {\n          role: 'assistant',\n          content: data.response\n        };\n        setMessages(prev => [...prev, botMessage]);\n      } else {\n        throw new Error('Failed to get response');\n      }\n    } catch (error) {\n      console.error('Error:', error);\n      setMessages(prev => [...prev, {\n        role: 'assistant',\n        content: 'Sorry, I encountered an error. Please try again.'\n      }]);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n  const handleSubmit = useCallback(async e => {\n    e.preventDefault();\n    if (!input.trim()) return;\n    const currentInput = input;\n    setInput('');\n    await handleSendMessage(currentInput);\n  }, [input, handleSendMessage]);\n  useEffect(() => {\n    // Initialize speech recognition\n    if ('webkitSpeechRecognition' in window) {\n      recognitionRef.current = new window.webkitSpeechRecognition();\n      recognitionRef.current.continuous = true;\n      recognitionRef.current.interimResults = true;\n      recognitionRef.current.onresult = event => {\n        const transcript = Array.from(event.results).map(result => result[0]).map(result => result.transcript).join('');\n        const formattedCommand = formatVoiceCommand(transcript);\n        setInput(formattedCommand);\n      };\n      recognitionRef.current.onerror = event => {\n        console.error('Speech recognition error:', event.error);\n        setIsRecording(false);\n      };\n      recognitionRef.current.onend = () => {\n        setIsRecording(false);\n        if (input.trim()) {\n          handleSendMessage(input);\n        }\n      };\n    }\n\n    // Load chat history when component mounts\n    const loadChatHistory = async () => {\n      try {\n        const response = await fetch('http://localhost:5000/api/chat/history', {\n          credentials: 'include'\n        });\n        if (response.ok) {\n          const data = await response.json();\n          if (data.messages && data.messages.length > 0) {\n            setMessages(data.messages);\n          } else {\n            // Show welcome message for new users\n            const welcomeMessage = {\n              role: 'assistant',\n              content: `ðŸŒŸ Welcome ${(user === null || user === void 0 ? void 0 : user.username) || 'there'} to the Sales Chatbot! ðŸŒŸ\\n\\n` + 'I\\'m your AI-powered shopping assistant, ready to help you manage your products efficiently.\\n\\n' + 'ðŸŽ¯ Here\\'s what I can do for you:\\n\\n' + 'ðŸ“¦ Product Management:\\n' + '   â€¢ Add new products\\n' + '   â€¢ Update existing products\\n' + '   â€¢ Remove products\\n' + '   â€¢ View all products\\n\\n' + 'ðŸ” Search & Filter:\\n' + '   â€¢ Search by product name\\n' + '   â€¢ Filter by category\\n' + '   â€¢ View product details\\n\\n' + 'ðŸŽ¤ Voice Commands:\\n' + '   â€¢ Click the microphone icon\\n' + '   â€¢ Speak your command clearly\\n' + '   â€¢ Click again to stop\\n\\n' + 'ðŸ’¡ Quick Tips:\\n' + '   â€¢ Use clear, specific commands\\n' + '   â€¢ Prices should be numbers\\n' + '   â€¢ Stock should be whole numbers\\n' + '   â€¢ Categories help organize products\\n\\n' + 'ðŸ“ Example Commands:\\n' + '   â€¢ \"Add product: laptop, 999.99, 10, electronics\"\\n' + '   â€¢ \"Update product: laptop, price, 899.99\"\\n' + '   â€¢ \"Search laptop\"\\n' + '   â€¢ \"Show all products\"\\n\\n' + 'How can I assist you today? ðŸ˜Š'\n            };\n            setMessages([welcomeMessage]);\n            // Save welcome message to history\n            await handleSendMessage(welcomeMessage.content);\n          }\n        }\n      } catch (error) {\n        console.error('Error loading chat history:', error);\n        // Show welcome message if there's an error loading history\n        setMessages([{\n          role: 'assistant',\n          content: 'Hello! I\\'m your AI sales assistant. How can I help you today?'\n        }]);\n      }\n    };\n    loadChatHistory();\n  }, [user, handleSendMessage]);\n\n  // Save chat history whenever messages change\n  useEffect(() => {\n    const saveChatHistory = async () => {\n      if (messages.length > 0) {\n        try {\n          await fetch('http://localhost:5000/api/chat/history', {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n              messages\n            }),\n            credentials: 'include'\n          });\n        } catch (error) {\n          console.error('Error saving chat history:', error);\n        }\n      }\n    };\n    saveChatHistory();\n  }, [messages]);\n  const handleVoiceInput = useCallback(() => {\n    setIsRecording(!isRecording);\n    // Voice input implementation here\n  }, [isRecording]);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    sx: {\n      height: '100vh',\n      display: 'flex',\n      flexDirection: 'column',\n      bgcolor: '#1A1A1A',\n      background: 'linear-gradient(135deg, rgba(26, 26, 26, 0.9) 0%, rgba(45, 45, 45, 0.9) 100%), url(\"https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80\")',\n      backgroundSize: 'cover',\n      backgroundPosition: 'center',\n      position: 'relative',\n      '&::before': {\n        content: '\"\"',\n        position: 'absolute',\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n        background: 'radial-gradient(circle at center, rgba(233, 30, 99, 0.1) 0%, rgba(33, 150, 243, 0.1) 100%)',\n        pointerEvents: 'none'\n      }\n    },\n    children: [/*#__PURE__*/_jsxDEV(AppBar, {\n      position: \"static\",\n      sx: {\n        bgcolor: 'rgba(45, 45, 45, 0.95)',\n        backdropFilter: 'blur(10px)',\n        boxShadow: '0 2px 10px rgba(0, 0, 0, 0.3)',\n        borderBottom: '1px solid rgba(255, 255, 255, 0.1)'\n      },\n      children: /*#__PURE__*/_jsxDEV(Toolbar, {\n        children: [/*#__PURE__*/_jsxDEV(Box, {\n          sx: {\n            display: 'flex',\n            alignItems: 'center',\n            flexGrow: 1\n          },\n          children: /*#__PURE__*/_jsxDEV(Typography, {\n            variant: \"h6\",\n            component: \"div\",\n            sx: {\n              fontWeight: 600,\n              background: 'linear-gradient(45deg, #FFB74D 30%, #FFE0B2 90%)',\n              WebkitBackgroundClip: 'text',\n              WebkitTextFillColor: 'transparent',\n              display: 'flex',\n              alignItems: 'center',\n              gap: 1\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              role: \"img\",\n              \"aria-label\": \"robot\",\n              style: {\n                fontSize: '1.5rem'\n              },\n              children: \"\\uD83E\\uDD16\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 29\n            }, this), \"Sales Chatbot\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          color: \"inherit\",\n          onClick: handleMenuClick,\n          sx: {\n            ml: 2,\n            color: '#FFB74D',\n            '&:hover': {\n              bgcolor: 'rgba(255, 183, 77, 0.1)'\n            }\n          },\n          children: /*#__PURE__*/_jsxDEV(AccountCircleIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Menu, {\n          anchorEl: anchorEl,\n          open: Boolean(anchorEl),\n          onClose: handleMenuClose,\n          sx: {\n            '& .MuiPaper-root': {\n              bgcolor: 'rgba(45, 45, 45, 0.95)',\n              backdropFilter: 'blur(10px)',\n              border: '1px solid rgba(255, 255, 255, 0.1)',\n              minWidth: '200px'\n            }\n          },\n          children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n            onClick: handleMenuClose,\n            disabled: true,\n            sx: {\n              color: '#FFE0B2'\n            },\n            children: [/*#__PURE__*/_jsxDEV(AccountCircleIcon, {\n              sx: {\n                mr: 1\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 29\n            }, this), user === null || user === void 0 ? void 0 : user.username]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {\n            sx: {\n              my: 1,\n              bgcolor: 'rgba(255, 255, 255, 0.1)'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n            onClick: handleLogout,\n            sx: {\n              color: '#FFB74D',\n              '&:hover': {\n                bgcolor: 'rgba(255, 183, 77, 0.1)'\n              }\n            },\n            children: [/*#__PURE__*/_jsxDEV(LogoutIcon, {\n              sx: {\n                mr: 1\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 378,\n              columnNumber: 29\n            }, this), \"Logout\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 3,\n      sx: {\n        flex: 1,\n        display: 'flex',\n        flexDirection: 'column',\n        overflow: 'hidden',\n        bgcolor: 'rgba(26, 26, 26, 0.95)',\n        backdropFilter: 'blur(10px)',\n        borderRadius: 0,\n        position: 'relative',\n        '&::before': {\n          content: '\"\"',\n          position: 'absolute',\n          top: 0,\n          left: 0,\n          right: 0,\n          bottom: 0,\n          background: 'radial-gradient(circle at top right, rgba(255, 183, 77, 0.1) 0%, transparent 60%)',\n          pointerEvents: 'none'\n        }\n      },\n      children: [/*#__PURE__*/_jsxDEV(List, {\n        sx: {\n          flex: 1,\n          overflow: 'auto',\n          p: 2,\n          '& > *': {\n            mb: 2\n          },\n          '&::-webkit-scrollbar': {\n            width: '8px'\n          },\n          '&::-webkit-scrollbar-track': {\n            background: 'rgba(255, 255, 255, 0.05)'\n          },\n          '&::-webkit-scrollbar-thumb': {\n            background: 'rgba(255, 183, 77, 0.2)',\n            borderRadius: '4px'\n          },\n          '&::-webkit-scrollbar-thumb:hover': {\n            background: 'rgba(255, 183, 77, 0.3)'\n          }\n        },\n        children: [messages.map((message, index) => /*#__PURE__*/_jsxDEV(ListItem, {\n          sx: {\n            flexDirection: 'column',\n            alignItems: message.role === 'user' ? 'flex-end' : 'flex-start'\n          },\n          children: /*#__PURE__*/_jsxDEV(Box, {\n            sx: {\n              display: 'flex',\n              alignItems: 'flex-start',\n              gap: 1,\n              maxWidth: '80%'\n            },\n            children: [message.role === 'assistant' && /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                width: 32,\n                height: 32,\n                borderRadius: '50%',\n                bgcolor: 'rgba(255, 183, 77, 0.9)',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                flexShrink: 0,\n                mt: 1,\n                boxShadow: '0 2px 8px rgba(0, 0, 0, 0.2)'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                role: \"img\",\n                \"aria-label\": \"robot\",\n                style: {\n                  fontSize: '1.2rem'\n                },\n                children: \"\\uD83E\\uDD16\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 460,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 446,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(Paper, {\n              elevation: 1,\n              sx: {\n                p: 2,\n                bgcolor: message.role === 'user' ? 'rgba(233, 30, 99, 0.9)' : 'rgba(33, 150, 243, 0.9)',\n                color: '#FFFFFF',\n                borderRadius: 2,\n                border: '1px solid rgba(255, 255, 255, 0.1)',\n                boxShadow: '0 2px 8px rgba(0, 0, 0, 0.2)',\n                position: 'relative',\n                '&::before': {\n                  content: '\"\"',\n                  position: 'absolute',\n                  top: 0,\n                  left: 0,\n                  right: 0,\n                  bottom: 0,\n                  background: 'linear-gradient(45deg, rgba(255,255,255,0.1) 0%, transparent 100%)',\n                  borderRadius: 'inherit',\n                  pointerEvents: 'none'\n                }\n              },\n              children: /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"body1\",\n                sx: {\n                  whiteSpace: 'pre-line',\n                  fontFamily: 'Consolas, monospace',\n                  fontSize: '0.95rem',\n                  lineHeight: 1.6,\n                  color: message.role === 'user' ? '#FFFFFF' : '#F5F5F5',\n                  '& strong': {\n                    color: '#FFB74D',\n                    fontWeight: 600\n                  },\n                  '& em': {\n                    color: '#FFE0B2',\n                    fontStyle: 'italic'\n                  },\n                  '& .emoji': {\n                    fontSize: '1.2em',\n                    margin: '0 2px'\n                  },\n                  '& .command': {\n                    color: '#FFB74D',\n                    fontFamily: 'Consolas, monospace',\n                    backgroundColor: 'rgba(255, 183, 77, 0.1)',\n                    padding: '2px 4px',\n                    borderRadius: '4px'\n                  },\n                  '& .highlight': {\n                    color: '#FFE0B2',\n                    fontWeight: 500\n                  }\n                },\n                children: message.content\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 488,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 33\n            }, this), message.role === 'user' && /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                width: 32,\n                height: 32,\n                borderRadius: '50%',\n                bgcolor: 'rgba(255, 183, 77, 0.9)',\n                display: 'flex',\n                alignItems: 'center',\n                justifyContent: 'center',\n                flexShrink: 0,\n                mt: 1,\n                boxShadow: '0 2px 8px rgba(0, 0, 0, 0.2)'\n              },\n              children: /*#__PURE__*/_jsxDEV(AccountCircleIcon, {\n                sx: {\n                  color: '#FFFFFF'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 541,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 527,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 29\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 25\n        }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: messagesEndRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 547,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {\n        sx: {\n          bgcolor: 'rgba(255, 255, 255, 0.1)'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 550,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          p: 2,\n          bgcolor: 'rgba(45, 45, 45, 0.95)',\n          display: 'flex',\n          gap: 1,\n          borderTop: '1px solid rgba(255, 255, 255, 0.1)',\n          position: 'relative',\n          '&::before': {\n            content: '\"\"',\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            right: 0,\n            height: '1px',\n            background: 'linear-gradient(90deg, transparent, rgba(255, 183, 77, 0.2), transparent)'\n          }\n        },\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          fullWidth: true,\n          variant: \"outlined\",\n          placeholder: \"Type your message...\",\n          value: input,\n          onChange: e => setInput(e.target.value),\n          onKeyPress: handleSubmit,\n          disabled: loading,\n          sx: {\n            '& .MuiOutlinedInput-root': {\n              bgcolor: 'rgba(255, 255, 255, 0.05)',\n              color: '#FFFFFF',\n              '& fieldset': {\n                borderColor: 'rgba(255, 183, 77, 0.3)'\n              },\n              '&:hover fieldset': {\n                borderColor: 'rgba(255, 183, 77, 0.5)'\n              },\n              '&.Mui-focused fieldset': {\n                borderColor: '#FFB74D'\n              }\n            },\n            '& .MuiInputLabel-root': {\n              color: 'rgba(255, 255, 255, 0.7)'\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 571,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          onClick: handleVoiceInput,\n          color: isRecording ? 'error' : 'primary',\n          sx: {\n            bgcolor: 'rgba(255, 255, 255, 0.05)',\n            color: '#FFB74D',\n            '&:hover': {\n              bgcolor: 'rgba(255, 183, 77, 0.1)'\n            }\n          },\n          children: isRecording ? /*#__PURE__*/_jsxDEV(StopIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 609,\n            columnNumber: 40\n          }, this) : /*#__PURE__*/_jsxDEV(MicIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 609,\n            columnNumber: 55\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 598,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          onClick: handleSubmit,\n          disabled: loading || !input.trim(),\n          endIcon: loading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 615,\n            columnNumber: 44\n          }, this) : /*#__PURE__*/_jsxDEV(SendIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 615,\n            columnNumber: 77\n          }, this),\n          sx: {\n            minWidth: '100px',\n            bgcolor: 'rgba(255, 183, 77, 0.9)',\n            '&:hover': {\n              bgcolor: 'rgba(255, 183, 77, 1)'\n            },\n            '&.Mui-disabled': {\n              bgcolor: 'rgba(255, 255, 255, 0.1)'\n            }\n          },\n          children: loading ? 'Sending...' : 'Send'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 611,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 552,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 385,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 288,\n    columnNumber: 9\n  }, this);\n};\n_s(ChatInterface, \"xYxcXjc/wPW+h+7MJD2j88c5BTU=\", false, function () {\n  return [useAuth, useNavigate];\n});\n_c = ChatInterface;\nexport default ChatInterface;\nvar _c;\n$RefreshReg$(_c, \"ChatInterface\");","map":{"version":3,"names":["React","useState","useRef","useEffect","useCallback","Box","TextField","Button","Paper","Typography","IconButton","CircularProgress","List","ListItem","ListItemText","Divider","AppBar","Toolbar","Menu","MenuItem","SendIcon","MicIcon","StopIcon","LogoutIcon","AccountCircleIcon","useAuth","useNavigate","jsxDEV","_jsxDEV","ChatInterface","_s","messages","setMessages","input","setInput","loading","setLoading","isRecording","setIsRecording","anchorEl","setAnchorEl","messagesEndRef","user","logout","navigate","recognitionRef","formatVoiceCommand","transcript","command","toLowerCase","trim","includes","pattern","match","_","name","price","stock","category","field","value","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","handleMenuClick","event","currentTarget","handleMenuClose","handleLogout","error","console","handleSendMessage","messageContent","userMessage","role","content","prev","response","fetch","method","headers","body","JSON","stringify","message","credentials","ok","data","json","botMessage","Error","handleSubmit","e","preventDefault","currentInput","window","webkitSpeechRecognition","continuous","interimResults","onresult","Array","from","results","map","result","join","formattedCommand","onerror","onend","loadChatHistory","length","welcomeMessage","username","saveChatHistory","handleVoiceInput","sx","height","display","flexDirection","bgcolor","background","backgroundSize","backgroundPosition","position","top","left","right","bottom","pointerEvents","children","backdropFilter","boxShadow","borderBottom","alignItems","flexGrow","variant","component","fontWeight","WebkitBackgroundClip","WebkitTextFillColor","gap","style","fontSize","fileName","_jsxFileName","lineNumber","columnNumber","color","onClick","ml","open","Boolean","onClose","border","minWidth","disabled","mr","my","elevation","flex","overflow","borderRadius","p","mb","width","index","maxWidth","justifyContent","flexShrink","mt","whiteSpace","fontFamily","lineHeight","fontStyle","margin","backgroundColor","padding","ref","borderTop","fullWidth","placeholder","onChange","target","onKeyPress","borderColor","endIcon","size","_c","$RefreshReg$"],"sources":["C:/Users/singh/Dropbox/CODING/EcommerceChatbot/frontend/src/components/ChatInterface.js"],"sourcesContent":["import React, { useState, useRef, useEffect, useCallback } from 'react';\r\nimport {\r\n    Box,\r\n    TextField,\r\n    Button,\r\n    Paper,\r\n    Typography,\r\n    IconButton,\r\n    CircularProgress,\r\n    List,\r\n    ListItem,\r\n    ListItemText,\r\n    Divider,\r\n    AppBar,\r\n    Toolbar,\r\n    Menu,\r\n    MenuItem,\r\n} from '@mui/material';\r\nimport SendIcon from '@mui/icons-material/Send';\r\nimport MicIcon from '@mui/icons-material/Mic';\r\nimport StopIcon from '@mui/icons-material/Stop';\r\nimport LogoutIcon from '@mui/icons-material/Logout';\r\nimport AccountCircleIcon from '@mui/icons-material/AccountCircle';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst ChatInterface = () => {\r\n    const [messages, setMessages] = useState([]);\r\n    const [input, setInput] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const [isRecording, setIsRecording] = useState(false);\r\n    const [anchorEl, setAnchorEl] = useState(null);\r\n    const messagesEndRef = useRef(null);\r\n    const { user, logout } = useAuth();\r\n    const navigate = useNavigate();\r\n    const recognitionRef = useRef(null);\r\n\r\n    const formatVoiceCommand = (transcript) => {\r\n        // Convert transcript to lowercase for easier matching\r\n        const command = transcript.toLowerCase().trim();\r\n        \r\n        // Handle different command patterns\r\n        if (command.includes('add product') || command.includes('create product')) {\r\n            // Extract product details using regex\r\n            const pattern = /(?:add|create) product:?\\s*([^,]+),\\s*(\\d+\\.?\\d*),\\s*(\\d+),\\s*([^,]+)/i;\r\n            const match = command.match(pattern);\r\n            if (match) {\r\n                const [_, name, price, stock, category] = match;\r\n                return `Add product: ${name.trim()}, ${price}, ${stock}, ${category.trim()}`;\r\n            }\r\n        }\r\n        \r\n        if (command.includes('update product') || command.includes('modify product')) {\r\n            const pattern = /(?:update|modify) product:?\\s*([^,]+),\\s*([^,]+),\\s*([^,]+)/i;\r\n            const match = command.match(pattern);\r\n            if (match) {\r\n                const [_, name, field, value] = match;\r\n                return `Update product: ${name.trim()}, ${field.trim()}, ${value.trim()}`;\r\n            }\r\n        }\r\n        \r\n        if (command.includes('delete product') || command.includes('remove product')) {\r\n            const pattern = /(?:delete|remove) product:?\\s*([^,]+)/i;\r\n            const match = command.match(pattern);\r\n            if (match) {\r\n                return `Delete product: ${match[1].trim()}`;\r\n            }\r\n        }\r\n        \r\n        if (command.includes('search')) {\r\n            const pattern = /search\\s+(.+)/i;\r\n            const match = command.match(pattern);\r\n            if (match) {\r\n                return `Search ${match[1].trim()}`;\r\n            }\r\n        }\r\n        \r\n        if (command.includes('category')) {\r\n            const pattern = /category\\s+(.+)/i;\r\n            const match = command.match(pattern);\r\n            if (match) {\r\n                return `Category ${match[1].trim()}`;\r\n            }\r\n        }\r\n        \r\n        if (command.includes('show all') || command.includes('list all')) {\r\n            return 'Show all products';\r\n        }\r\n        \r\n        // If no specific command pattern is matched, return the original transcript\r\n        return command;\r\n    };\r\n\r\n    const scrollToBottom = useCallback(() => {\r\n        messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        scrollToBottom();\r\n    }, [messages, scrollToBottom]);\r\n\r\n    const handleMenuClick = (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleMenuClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    const handleLogout = async () => {\r\n        try {\r\n            await logout();\r\n            navigate('/login');\r\n        } catch (error) {\r\n            console.error('Logout failed:', error);\r\n        }\r\n    };\r\n\r\n    const handleSendMessage = useCallback(async (messageContent) => {\r\n        if (!messageContent.trim()) return;\r\n\r\n        const userMessage = {\r\n            role: 'user',\r\n            content: messageContent.trim()\r\n        };\r\n\r\n        setMessages(prev => [...prev, userMessage]);\r\n        setLoading(true);\r\n\r\n        try {\r\n            const response = await fetch('http://localhost:5000/api/chat', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                },\r\n                body: JSON.stringify({ message: userMessage.content }),\r\n                credentials: 'include'\r\n            });\r\n\r\n            if (response.ok) {\r\n                const data = await response.json();\r\n                const botMessage = {\r\n                    role: 'assistant',\r\n                    content: data.response\r\n                };\r\n                setMessages(prev => [...prev, botMessage]);\r\n            } else {\r\n                throw new Error('Failed to get response');\r\n            }\r\n        } catch (error) {\r\n            console.error('Error:', error);\r\n            setMessages(prev => [...prev, {\r\n                role: 'assistant',\r\n                content: 'Sorry, I encountered an error. Please try again.'\r\n            }]);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }, []);\r\n\r\n    const handleSubmit = useCallback(async (e) => {\r\n        e.preventDefault();\r\n        if (!input.trim()) return;\r\n        \r\n        const currentInput = input;\r\n        setInput('');\r\n        await handleSendMessage(currentInput);\r\n    }, [input, handleSendMessage]);\r\n\r\n    useEffect(() => {\r\n        // Initialize speech recognition\r\n        if ('webkitSpeechRecognition' in window) {\r\n            recognitionRef.current = new window.webkitSpeechRecognition();\r\n            recognitionRef.current.continuous = true;\r\n            recognitionRef.current.interimResults = true;\r\n\r\n            recognitionRef.current.onresult = (event) => {\r\n                const transcript = Array.from(event.results)\r\n                    .map(result => result[0])\r\n                    .map(result => result.transcript)\r\n                    .join('');\r\n                \r\n                const formattedCommand = formatVoiceCommand(transcript);\r\n                setInput(formattedCommand);\r\n            };\r\n\r\n            recognitionRef.current.onerror = (event) => {\r\n                console.error('Speech recognition error:', event.error);\r\n                setIsRecording(false);\r\n            };\r\n\r\n            recognitionRef.current.onend = () => {\r\n                setIsRecording(false);\r\n                if (input.trim()) {\r\n                    handleSendMessage(input);\r\n                }\r\n            };\r\n        }\r\n\r\n        // Load chat history when component mounts\r\n        const loadChatHistory = async () => {\r\n            try {\r\n                const response = await fetch('http://localhost:5000/api/chat/history', {\r\n                    credentials: 'include'\r\n                });\r\n                if (response.ok) {\r\n                    const data = await response.json();\r\n                    if (data.messages && data.messages.length > 0) {\r\n                        setMessages(data.messages);\r\n                    } else {\r\n                        // Show welcome message for new users\r\n                        const welcomeMessage = {\r\n                            role: 'assistant',\r\n                            content: `ðŸŒŸ Welcome ${user?.username || 'there'} to the Sales Chatbot! ðŸŒŸ\\n\\n` +\r\n                                'I\\'m your AI-powered shopping assistant, ready to help you manage your products efficiently.\\n\\n' +\r\n                                'ðŸŽ¯ Here\\'s what I can do for you:\\n\\n' +\r\n                                'ðŸ“¦ Product Management:\\n' +\r\n                                '   â€¢ Add new products\\n' +\r\n                                '   â€¢ Update existing products\\n' +\r\n                                '   â€¢ Remove products\\n' +\r\n                                '   â€¢ View all products\\n\\n' +\r\n                                'ðŸ” Search & Filter:\\n' +\r\n                                '   â€¢ Search by product name\\n' +\r\n                                '   â€¢ Filter by category\\n' +\r\n                                '   â€¢ View product details\\n\\n' +\r\n                                'ðŸŽ¤ Voice Commands:\\n' +\r\n                                '   â€¢ Click the microphone icon\\n' +\r\n                                '   â€¢ Speak your command clearly\\n' +\r\n                                '   â€¢ Click again to stop\\n\\n' +\r\n                                'ðŸ’¡ Quick Tips:\\n' +\r\n                                '   â€¢ Use clear, specific commands\\n' +\r\n                                '   â€¢ Prices should be numbers\\n' +\r\n                                '   â€¢ Stock should be whole numbers\\n' +\r\n                                '   â€¢ Categories help organize products\\n\\n' +\r\n                                'ðŸ“ Example Commands:\\n' +\r\n                                '   â€¢ \"Add product: laptop, 999.99, 10, electronics\"\\n' +\r\n                                '   â€¢ \"Update product: laptop, price, 899.99\"\\n' +\r\n                                '   â€¢ \"Search laptop\"\\n' +\r\n                                '   â€¢ \"Show all products\"\\n\\n' +\r\n                                'How can I assist you today? ðŸ˜Š'\r\n                        };\r\n                        setMessages([welcomeMessage]);\r\n                        // Save welcome message to history\r\n                        await handleSendMessage(welcomeMessage.content);\r\n                    }\r\n                }\r\n            } catch (error) {\r\n                console.error('Error loading chat history:', error);\r\n                // Show welcome message if there's an error loading history\r\n                setMessages([{\r\n                    role: 'assistant',\r\n                    content: 'Hello! I\\'m your AI sales assistant. How can I help you today?'\r\n                }]);\r\n            }\r\n        };\r\n\r\n        loadChatHistory();\r\n    }, [user, handleSendMessage]);\r\n\r\n    // Save chat history whenever messages change\r\n    useEffect(() => {\r\n        const saveChatHistory = async () => {\r\n            if (messages.length > 0) {\r\n                try {\r\n                    await fetch('http://localhost:5000/api/chat/history', {\r\n                        method: 'POST',\r\n                        headers: {\r\n                            'Content-Type': 'application/json',\r\n                        },\r\n                        body: JSON.stringify({ messages }),\r\n                        credentials: 'include'\r\n                    });\r\n                } catch (error) {\r\n                    console.error('Error saving chat history:', error);\r\n                }\r\n            }\r\n        };\r\n\r\n        saveChatHistory();\r\n    }, [messages]);\r\n\r\n    const handleVoiceInput = useCallback(() => {\r\n        setIsRecording(!isRecording);\r\n        // Voice input implementation here\r\n    }, [isRecording]);\r\n\r\n    return (\r\n        <Box\r\n            sx={{\r\n                height: '100vh',\r\n                display: 'flex',\r\n                flexDirection: 'column',\r\n                bgcolor: '#1A1A1A',\r\n                background: 'linear-gradient(135deg, rgba(26, 26, 26, 0.9) 0%, rgba(45, 45, 45, 0.9) 100%), url(\"https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80\")',\r\n                backgroundSize: 'cover',\r\n                backgroundPosition: 'center',\r\n                position: 'relative',\r\n                '&::before': {\r\n                    content: '\"\"',\r\n                    position: 'absolute',\r\n                    top: 0,\r\n                    left: 0,\r\n                    right: 0,\r\n                    bottom: 0,\r\n                    background: 'radial-gradient(circle at center, rgba(233, 30, 99, 0.1) 0%, rgba(33, 150, 243, 0.1) 100%)',\r\n                    pointerEvents: 'none',\r\n                },\r\n            }}\r\n        >\r\n            <AppBar \r\n                position=\"static\" \r\n                sx={{ \r\n                    bgcolor: 'rgba(45, 45, 45, 0.95)',\r\n                    backdropFilter: 'blur(10px)',\r\n                    boxShadow: '0 2px 10px rgba(0, 0, 0, 0.3)',\r\n                    borderBottom: '1px solid rgba(255, 255, 255, 0.1)',\r\n                }}\r\n            >\r\n                <Toolbar>\r\n                    <Box sx={{ display: 'flex', alignItems: 'center', flexGrow: 1 }}>\r\n                        <Typography \r\n                            variant=\"h6\" \r\n                            component=\"div\" \r\n                            sx={{ \r\n                                fontWeight: 600,\r\n                                background: 'linear-gradient(45deg, #FFB74D 30%, #FFE0B2 90%)',\r\n                                WebkitBackgroundClip: 'text',\r\n                                WebkitTextFillColor: 'transparent',\r\n                                display: 'flex',\r\n                                alignItems: 'center',\r\n                                gap: 1,\r\n                            }}\r\n                        >\r\n                            <span role=\"img\" aria-label=\"robot\" style={{ fontSize: '1.5rem' }}>ðŸ¤–</span>\r\n                            Sales Chatbot\r\n                        </Typography>\r\n                    </Box>\r\n                    <IconButton\r\n                        color=\"inherit\"\r\n                        onClick={handleMenuClick}\r\n                        sx={{ \r\n                            ml: 2,\r\n                            color: '#FFB74D',\r\n                            '&:hover': {\r\n                                bgcolor: 'rgba(255, 183, 77, 0.1)',\r\n                            },\r\n                        }}\r\n                    >\r\n                        <AccountCircleIcon />\r\n                    </IconButton>\r\n                    <Menu\r\n                        anchorEl={anchorEl}\r\n                        open={Boolean(anchorEl)}\r\n                        onClose={handleMenuClose}\r\n                        sx={{\r\n                            '& .MuiPaper-root': {\r\n                                bgcolor: 'rgba(45, 45, 45, 0.95)',\r\n                                backdropFilter: 'blur(10px)',\r\n                                border: '1px solid rgba(255, 255, 255, 0.1)',\r\n                                minWidth: '200px',\r\n                            },\r\n                        }}\r\n                    >\r\n                        <MenuItem onClick={handleMenuClose} disabled sx={{ color: '#FFE0B2' }}>\r\n                            <AccountCircleIcon sx={{ mr: 1 }} />\r\n                            {user?.username}\r\n                        </MenuItem>\r\n                        <Divider sx={{ my: 1, bgcolor: 'rgba(255, 255, 255, 0.1)' }} />\r\n                        <MenuItem \r\n                            onClick={handleLogout}\r\n                            sx={{\r\n                                color: '#FFB74D',\r\n                                '&:hover': {\r\n                                    bgcolor: 'rgba(255, 183, 77, 0.1)',\r\n                                },\r\n                            }}\r\n                        >\r\n                            <LogoutIcon sx={{ mr: 1 }} />\r\n                            Logout\r\n                        </MenuItem>\r\n                    </Menu>\r\n                </Toolbar>\r\n            </AppBar>\r\n\r\n            <Paper\r\n                elevation={3}\r\n                sx={{\r\n                    flex: 1,\r\n                    display: 'flex',\r\n                    flexDirection: 'column',\r\n                    overflow: 'hidden',\r\n                    bgcolor: 'rgba(26, 26, 26, 0.95)',\r\n                    backdropFilter: 'blur(10px)',\r\n                    borderRadius: 0,\r\n                    position: 'relative',\r\n                    '&::before': {\r\n                        content: '\"\"',\r\n                        position: 'absolute',\r\n                        top: 0,\r\n                        left: 0,\r\n                        right: 0,\r\n                        bottom: 0,\r\n                        background: 'radial-gradient(circle at top right, rgba(255, 183, 77, 0.1) 0%, transparent 60%)',\r\n                        pointerEvents: 'none',\r\n                    },\r\n                }}\r\n            >\r\n                <List\r\n                    sx={{\r\n                        flex: 1,\r\n                        overflow: 'auto',\r\n                        p: 2,\r\n                        '& > *': { mb: 2 },\r\n                        '&::-webkit-scrollbar': {\r\n                            width: '8px',\r\n                        },\r\n                        '&::-webkit-scrollbar-track': {\r\n                            background: 'rgba(255, 255, 255, 0.05)',\r\n                        },\r\n                        '&::-webkit-scrollbar-thumb': {\r\n                            background: 'rgba(255, 183, 77, 0.2)',\r\n                            borderRadius: '4px',\r\n                        },\r\n                        '&::-webkit-scrollbar-thumb:hover': {\r\n                            background: 'rgba(255, 183, 77, 0.3)',\r\n                        },\r\n                    }}\r\n                >\r\n                    {messages.map((message, index) => (\r\n                        <ListItem\r\n                            key={index}\r\n                            sx={{\r\n                                flexDirection: 'column',\r\n                                alignItems: message.role === 'user' ? 'flex-end' : 'flex-start',\r\n                            }}\r\n                        >\r\n                            <Box\r\n                                sx={{\r\n                                    display: 'flex',\r\n                                    alignItems: 'flex-start',\r\n                                    gap: 1,\r\n                                    maxWidth: '80%',\r\n                                }}\r\n                            >\r\n                                {message.role === 'assistant' && (\r\n                                    <Box\r\n                                        sx={{\r\n                                            width: 32,\r\n                                            height: 32,\r\n                                            borderRadius: '50%',\r\n                                            bgcolor: 'rgba(255, 183, 77, 0.9)',\r\n                                            display: 'flex',\r\n                                            alignItems: 'center',\r\n                                            justifyContent: 'center',\r\n                                            flexShrink: 0,\r\n                                            mt: 1,\r\n                                            boxShadow: '0 2px 8px rgba(0, 0, 0, 0.2)',\r\n                                        }}\r\n                                    >\r\n                                        <span role=\"img\" aria-label=\"robot\" style={{ fontSize: '1.2rem' }}>ðŸ¤–</span>\r\n                                    </Box>\r\n                                )}\r\n                                <Paper\r\n                                    elevation={1}\r\n                                    sx={{\r\n                                        p: 2,\r\n                                        bgcolor: message.role === 'user' \r\n                                            ? 'rgba(233, 30, 99, 0.9)' \r\n                                            : 'rgba(33, 150, 243, 0.9)',\r\n                                        color: '#FFFFFF',\r\n                                        borderRadius: 2,\r\n                                        border: '1px solid rgba(255, 255, 255, 0.1)',\r\n                                        boxShadow: '0 2px 8px rgba(0, 0, 0, 0.2)',\r\n                                        position: 'relative',\r\n                                        '&::before': {\r\n                                            content: '\"\"',\r\n                                            position: 'absolute',\r\n                                            top: 0,\r\n                                            left: 0,\r\n                                            right: 0,\r\n                                            bottom: 0,\r\n                                            background: 'linear-gradient(45deg, rgba(255,255,255,0.1) 0%, transparent 100%)',\r\n                                            borderRadius: 'inherit',\r\n                                            pointerEvents: 'none',\r\n                                        },\r\n                                    }}\r\n                                >\r\n                                    <Typography\r\n                                        variant=\"body1\"\r\n                                        sx={{\r\n                                            whiteSpace: 'pre-line',\r\n                                            fontFamily: 'Consolas, monospace',\r\n                                            fontSize: '0.95rem',\r\n                                            lineHeight: 1.6,\r\n                                            color: message.role === 'user' \r\n                                                ? '#FFFFFF' \r\n                                                : '#F5F5F5',\r\n                                            '& strong': {\r\n                                                color: '#FFB74D',\r\n                                                fontWeight: 600,\r\n                                            },\r\n                                            '& em': {\r\n                                                color: '#FFE0B2',\r\n                                                fontStyle: 'italic',\r\n                                            },\r\n                                            '& .emoji': {\r\n                                                fontSize: '1.2em',\r\n                                                margin: '0 2px',\r\n                                            },\r\n                                            '& .command': {\r\n                                                color: '#FFB74D',\r\n                                                fontFamily: 'Consolas, monospace',\r\n                                                backgroundColor: 'rgba(255, 183, 77, 0.1)',\r\n                                                padding: '2px 4px',\r\n                                                borderRadius: '4px',\r\n                                            },\r\n                                            '& .highlight': {\r\n                                                color: '#FFE0B2',\r\n                                                fontWeight: 500,\r\n                                            },\r\n                                        }}\r\n                                    >\r\n                                        {message.content}\r\n                                    </Typography>\r\n                                </Paper>\r\n                                {message.role === 'user' && (\r\n                                    <Box\r\n                                        sx={{\r\n                                            width: 32,\r\n                                            height: 32,\r\n                                            borderRadius: '50%',\r\n                                            bgcolor: 'rgba(255, 183, 77, 0.9)',\r\n                                            display: 'flex',\r\n                                            alignItems: 'center',\r\n                                            justifyContent: 'center',\r\n                                            flexShrink: 0,\r\n                                            mt: 1,\r\n                                            boxShadow: '0 2px 8px rgba(0, 0, 0, 0.2)',\r\n                                        }}\r\n                                    >\r\n                                        <AccountCircleIcon sx={{ color: '#FFFFFF' }} />\r\n                                    </Box>\r\n                                )}\r\n                            </Box>\r\n                        </ListItem>\r\n                    ))}\r\n                    <div ref={messagesEndRef} />\r\n                </List>\r\n\r\n                <Divider sx={{ bgcolor: 'rgba(255, 255, 255, 0.1)' }} />\r\n\r\n                <Box\r\n                    sx={{\r\n                        p: 2,\r\n                        bgcolor: 'rgba(45, 45, 45, 0.95)',\r\n                        display: 'flex',\r\n                        gap: 1,\r\n                        borderTop: '1px solid rgba(255, 255, 255, 0.1)',\r\n                        position: 'relative',\r\n                        '&::before': {\r\n                            content: '\"\"',\r\n                            position: 'absolute',\r\n                            top: 0,\r\n                            left: 0,\r\n                            right: 0,\r\n                            height: '1px',\r\n                            background: 'linear-gradient(90deg, transparent, rgba(255, 183, 77, 0.2), transparent)',\r\n                        },\r\n                    }}\r\n                >\r\n                    <TextField\r\n                        fullWidth\r\n                        variant=\"outlined\"\r\n                        placeholder=\"Type your message...\"\r\n                        value={input}\r\n                        onChange={(e) => setInput(e.target.value)}\r\n                        onKeyPress={handleSubmit}\r\n                        disabled={loading}\r\n                        sx={{\r\n                            '& .MuiOutlinedInput-root': {\r\n                                bgcolor: 'rgba(255, 255, 255, 0.05)',\r\n                                color: '#FFFFFF',\r\n                                '& fieldset': {\r\n                                    borderColor: 'rgba(255, 183, 77, 0.3)',\r\n                                },\r\n                                '&:hover fieldset': {\r\n                                    borderColor: 'rgba(255, 183, 77, 0.5)',\r\n                                },\r\n                                '&.Mui-focused fieldset': {\r\n                                    borderColor: '#FFB74D',\r\n                                },\r\n                            },\r\n                            '& .MuiInputLabel-root': {\r\n                                color: 'rgba(255, 255, 255, 0.7)',\r\n                            },\r\n                        }}\r\n                    />\r\n                    <IconButton\r\n                        onClick={handleVoiceInput}\r\n                        color={isRecording ? 'error' : 'primary'}\r\n                        sx={{ \r\n                            bgcolor: 'rgba(255, 255, 255, 0.05)',\r\n                            color: '#FFB74D',\r\n                            '&:hover': {\r\n                                bgcolor: 'rgba(255, 183, 77, 0.1)',\r\n                            },\r\n                        }}\r\n                    >\r\n                        {isRecording ? <StopIcon /> : <MicIcon />}\r\n                    </IconButton>\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        onClick={handleSubmit}\r\n                        disabled={loading || !input.trim()}\r\n                        endIcon={loading ? <CircularProgress size={20} /> : <SendIcon />}\r\n                        sx={{\r\n                            minWidth: '100px',\r\n                            bgcolor: 'rgba(255, 183, 77, 0.9)',\r\n                            '&:hover': {\r\n                                bgcolor: 'rgba(255, 183, 77, 1)',\r\n                            },\r\n                            '&.Mui-disabled': {\r\n                                bgcolor: 'rgba(255, 255, 255, 0.1)',\r\n                            },\r\n                        }}\r\n                    >\r\n                        {loading ? 'Sending...' : 'Send'}\r\n                    </Button>\r\n                </Box>\r\n            </Paper>\r\n        </Box>\r\n    );\r\n};\r\n\r\nexport default ChatInterface; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}